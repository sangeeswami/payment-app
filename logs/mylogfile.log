2018-06-03 18:11:06.607 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.609 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@fcf19c7]
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.610 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6108a5fb]
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.611 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_NOWAIT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f695f09]
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.612 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_SKIPLOCKED]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4990d999]
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [FORCE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f3fa794]
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.613 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@313b74e5]
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.614 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_WRITE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3094afba]
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.615 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@654083a9]
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.616 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1faded60]
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.617 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.618 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:11:06.618 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:06.618 DEBUG 78484 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:06.618 DEBUG 78484 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:06.619 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Plan
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select plan_code from plan where plan_code =?
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select plan_.plan_code, plan_.plan_name as plan_nam2_1_ from plan plan_ where plan_.plan_code=?
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into plan (plan_name, plan_code) values (?, ?)
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update plan set plan_name=? where plan_code=?
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from plan where plan_code=?
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@430d3f25]
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.620 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.621 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [NONE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.621 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@323c0075]
2018-06-03 18:11:06.621 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.621 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.621 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@37948a8d]
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.622 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76fde362]
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_NOWAIT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2b7a881b]
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.623 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_SKIPLOCKED]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@15330059]
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [FORCE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1f410360]
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.624 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7eff05bc]
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_WRITE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.625 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2adc4424]
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4035f565]
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.626 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3df38e5c]
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.627 DEBUG 78484 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.628 DEBUG 78484 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:11:06.648 DEBUG 78484 --- [restartedMain] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing
2018-06-03 18:11:06.649 DEBUG 78484 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named HQL queries
2018-06-03 18:11:06.649 DEBUG 78484 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named SQL queries
2018-06-03 18:11:06.650 DEBUG 78484 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@7413e8aa
2018-06-03 18:11:06.651 DEBUG 78484 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Registering SessionFactory: d3447697-cbb1-420a-bdbe-09b1dc2d2111 (<unnamed>)
2018-06-03 18:11:06.651 DEBUG 78484 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Not binding SessionFactory to JNDI, no JNDI name configured
2018-06-03 18:11:06.651  INFO 78484 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:11:06.910 DEBUG 78484 --- [restartedMain] o.h.stat.internal.StatisticsInitiator    : Statistics initialized [enabled=false]
2018-06-03 18:11:07.026 DEBUG 78484 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : QueryTranslatorFactory : org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory@7a7ed083
2018-06-03 18:11:07.026  INFO 78484 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-03 18:11:07.062 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:11:07.069 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.072 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'PriceInfo'
    |  |     \-[ALIAS] Node: 'p'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'p'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[EQ] Node: '='
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'p'
          |  |  \-[IDENT] Node: 'status'
          |  \-[QUOTED_STRING] Node: ''ACTIVE''
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'p'
             |  \-[IDENT] Node: 'rolloutStatus'
             \-[QUOTED_STRING] Node: ''PENDING''

2018-06-03 18:11:07.101 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:11:07.115 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.PriceInfo (p) -> priceinfo0_
2018-06-03 18:11:07.116 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:11:07.119 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:11:07.121 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.121 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.status -> priceinfo0_.status
2018-06-03 18:11:07.122 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:11:07.123 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : rolloutStatus -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.123 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.rolloutStatus -> priceinfo0_.rollout_status
2018-06-03 18:11:07.123 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:11:07.123 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} priceinfo0_.price_id ) ( FromClause{level=1} price_info priceinfo0_ ) ( where ( and ( = ( priceinfo0_.status priceinfo0_.price_id status ) 'ACTIVE' ) ( = ( priceinfo0_.rollout_status priceinfo0_.price_id rolloutStatus ) 'PENDING' ) ) ) )
2018-06-03 18:11:07.131 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [price_info priceinfo0_]
2018-06-03 18:11:07.132 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:11:07.132 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (price_info)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id as price_id1_2_' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
    |  \-[SQL_TOKEN] SqlFragment: 'priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[p], fromElementByTableAlias=[priceinfo0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'price_info priceinfo0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=p,role=null,tableName=price_info,tableAlias=priceinfo0_,origin=null,columns={,className=my.payments.app.dao.PriceInfo}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'priceinfo0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=p.status,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
          |  |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
          |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'priceinfo0_.rollout_status' {propertyName=rolloutStatus,dereferenceType=PRIMITIVE,getPropertyPath=rolloutStatus,path=p.rolloutStatus,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
             |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
             |  \-[IDENT] IdentNode: 'rolloutStatus' {originalText=rolloutStatus}
             \-[QUOTED_STRING] LiteralNode: ''PENDING''

2018-06-03 18:11:07.133 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.141 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:11:07.141 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:11:07.141 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.186 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:11:07.187 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.188 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'c'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:11:07.188 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:11:07.189 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:11:07.189 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.189 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.189 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.190 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:11:07.190 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.190 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.190 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} customer0_.email ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:11:07.192 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:11:07.193 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:11:07.193 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'customer0_.email as email1_0_' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  \-[SQL_TOKEN] SqlFragment: 'customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@14173908}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@14173908}

2018-06-03 18:11:07.193 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.194 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:11:07.194 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as email1_0_, customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:11:07.194 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.200 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:11:07.201 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.201 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[DOT] Node: '.'
    |        +-[IDENT] Node: 'c'
    |        \-[IDENT] Node: 'email'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:11:07.202 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:11:07.202 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : email -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.email -> customer0_.email
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.203 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@14173908
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:11:07.204 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} ( customer0_.email customer0_.email email ) ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:11:07.205 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:11:07.205 DEBUG 78484 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:11:07.206 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[DOT] DotNode: 'customer0_.email' {propertyName=email,dereferenceType=PRIMITIVE,getPropertyPath=email,path=c.email,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
    |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  |  \-[IDENT] IdentNode: 'email' {originalText=email}
    |  \-[SELECT_COLUMNS] SqlNode: ' as col_0_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@14173908}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@14173908}

2018-06-03 18:11:07.206 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.206 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:11:07.206 DEBUG 78484 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:11:07.206 DEBUG 78484 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:11:07.214  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processorThreshold
2018-06-03 18:11:07.215  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.availableProcessorCount
2018-06-03 18:11:07.215  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processingChunkSize
2018-06-03 18:11:07.215  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE
2018-06-03 18:11:07.215  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_NOTIFY_PRICE_UPDATE
2018-06-03 18:11:07.215  WARN 78484 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE_ACK
2018-06-03 18:11:07.376 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:11:07.376 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:11:07.376 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:11:07.376 DEBUG 78484 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:11:07.385 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:11:07.385 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:11:07.386 DEBUG 78484 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:11:07.386 DEBUG 78484 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom MessageInterpolator of type org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator
2018-06-03 18:11:07.387 DEBUG 78484 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ConstraintValidatorFactory of type org.springframework.validation.beanvalidation.SpringConstraintValidatorFactory
2018-06-03 18:11:07.388 DEBUG 78484 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ParameterNameProvider of type org.springframework.validation.beanvalidation.LocalValidatorFactoryBean$1
2018-06-03 18:11:07.389 DEBUG 78484 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:11:07.389 DEBUG 78484 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via user class loader
2018-06-03 18:11:07.389 DEBUG 78484 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:11:07.390 DEBUG 78484 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:11:07.390 DEBUG 78484 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:11:07.395 DEBUG 78484 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:11:07.395 DEBUG 78484 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:11:07.395 DEBUG 78484 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:11:07.395 DEBUG 78484 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:11:07.395 DEBUG 78484 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:11:07.884  WARN 78484 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-03 18:11:08.031  INFO 78484 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2018-06-03 18:11:08.273  WARN 78484 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2018-06-03 18:11:08.335  INFO 78484 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-06-03 18:11:08.337  INFO 78484 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-06-03 18:11:08.344  INFO 78484 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-06-03 18:11:08.351  INFO 78484 --- [restartedMain] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-06-03 18:11:08.599  INFO 78484 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Using Persistence Adapter: MemoryPersistenceAdapter
2018-06-03 18:11:08.647  INFO 78484 --- [JMX connector] o.a.a.broker.jmx.ManagementContext       : JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2018-06-03 18:11:08.765  INFO 78484 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55140-1528074668624-0:1) is starting
2018-06-03 18:11:08.775  INFO 78484 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55140-1528074668624-0:1) started
2018-06-03 18:11:08.775  INFO 78484 --- [restartedMain] o.apache.activemq.broker.BrokerService   : For help or more information please see: http://activemq.apache.org
2018-06-03 18:11:08.813  INFO 78484 --- [restartedMain] o.a.activemq.broker.TransportConnector   : Connector vm://localhost started
2018-06-03 18:11:08.919  INFO 78484 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-06-03 18:11:08.924  INFO 78484 --- [restartedMain] my.payments.app.MainPaymentApp           : Started MainPaymentApp in 6.034 seconds (JVM running for 6.504)
2018-06-03 18:11:14.204  INFO 78484 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-06-03 18:11:14.294  INFO 78484 --- [http-nio-8080-exec-1] m.p.app.controller.PriceInfoController   : Received price update: Plan Code: 1S
Country Code: 1
Price: 15.0
Status: null
Rollout Status: null
2018-06-03 18:11:14.302 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:14.313 DEBUG 78484 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : call next value for price_info_sequence_id
2018-06-03 18:11:14.322 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.id.enhanced.SequenceStructure        : Sequence value obtained: 5
2018-06-03 18:11:14.323 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:14.324 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 5, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator
2018-06-03 18:11:14.336 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:14.336 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:11:14.337 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:11:14.338 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2018-06-03 18:11:14.338 DEBUG 78484 --- [http-nio-8080-exec-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:11:14.339 DEBUG 78484 --- [http-nio-8080-exec-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:11:14.339 DEBUG 78484 --- [http-nio-8080-exec-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.PriceInfo{rolloutStatus=PENDING, countryCode=1, price=15.0, priceId=5, effectiveDate=null, planCode=1S, status=ACTIVE}
2018-06-03 18:11:14.348 DEBUG 78484 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:11:14.352  INFO 78484 --- [http-nio-8080-exec-1] m.p.app.controller.PriceInfoController   : Saved price update to DB: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:11:20.450  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Calling price checker ...
2018-06-03 18:11:20.450  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Start... checkForPriceUpdates
2018-06-03 18:11:20.460 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:11:20.462 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:11:20.464 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.PriceInfo#5]
2018-06-03 18:11:20.466 DEBUG 78484 --- [http-nio-8080-exec-3] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:11:20.467 DEBUG 78484 --- [http-nio-8080-exec-3] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:11:20.468  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of price updates to process = 1
2018-06-03 18:11:20.468  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Processing priceUpdate: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:11:20.474 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:11:20.474 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 1
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 2
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 3
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 4
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 5
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 6
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 7
2018-06-03 18:11:20.475 DEBUG 78484 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:11:20.475  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of customers affected = 8
2018-06-03 18:11:20.475  INFO 78484 --- [http-nio-8080-exec-3] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:11:20.475  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of processors to start = 1
2018-06-03 18:11:20.475  INFO 78484 --- [http-nio-8080-exec-3] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:11:20.475  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 0
2018-06-03 18:11:20.492  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=0, end=2
2018-06-03 18:11:20.492  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 2
2018-06-03 18:11:20.499  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=2, end=4
2018-06-03 18:11:20.500  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 4
2018-06-03 18:11:20.507  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=4, end=6
2018-06-03 18:11:20.508  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 6
2018-06-03 18:11:20.515  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=6, end=8
2018-06-03 18:11:20.516  INFO 78484 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : checkForPriceUpdates ... done
2018-06-03 18:11:20.531  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [sangeetha@demo.com, kumar@demo.com]
2018-06-03 18:11:20.534 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.539 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.543 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.544 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.545 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:20.545 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:20.545 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.545 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:20.545 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.546  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: sangeetha@demo.com
2018-06-03 18:11:20.549  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: sangeetha@demo.com
2018-06-03 18:11:20.550 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.550 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.551 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.551 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.551 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:11:20.552 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:11:20.552 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.552 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:11:20.552 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.552  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: kumar@demo.com
2018-06-03 18:11:20.555  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: kumar@demo.com
2018-06-03 18:11:20.560  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [tarun@demo.com, thuy@demo.com]
2018-06-03 18:11:20.561 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.562 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.562  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: sangeetha@demo.com: Hello Sangeetha,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.612
2018-06-03 18:11:20.562 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.562 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.563 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:11:20.563 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:11:20.563 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.563 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:11:20.563 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.564  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: tarun@demo.com
2018-06-03 18:11:20.565  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: tarun@demo.com
2018-06-03 18:11:20.565 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.566 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.566 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.566 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.567 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:11:20.567 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:11:20.567 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.567 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#thuy@demo.com
2018-06-03 18:11:20.567 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.568  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: thuy@demo.com
2018-06-03 18:11:20.569  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: thuy@demo.com
2018-06-03 18:11:20.573  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [alex@demo.com, jerry@demo.com]
2018-06-03 18:11:20.574 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.574 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#alex@demo.com
2018-06-03 18:11:20.575 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.576  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: alex@demo.com
2018-06-03 18:11:20.577  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: alex@demo.com
2018-06-03 18:11:20.577 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.578 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.578 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.578 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.579 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:11:20.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:11:20.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#jerry@demo.com
2018-06-03 18:11:20.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.580  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: jerry@demo.com
2018-06-03 18:11:20.582  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: jerry@demo.com
2018-06-03 18:11:20.585  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [bala@demo.com, monika@demo.com]
2018-06-03 18:11:20.586 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.586 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.587 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.587 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:11:20.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:11:20.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#bala@demo.com
2018-06-03 18:11:20.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.589  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: bala@demo.com
2018-06-03 18:11:20.591  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: bala@demo.com
2018-06-03 18:11:20.593 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:20.594 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:20.594 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:20.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:20.596 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:11:20.596 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:11:20.597 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:20.597 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#monika@demo.com
2018-06-03 18:11:20.597 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:20.598  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: monika@demo.com
2018-06-03 18:11:20.601  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: monika@demo.com
2018-06-03 18:11:21.564  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: sangeetha@demo.com
2018-06-03 18:11:21.568  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: kumar@demo.com: Hello Kumar,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.613
2018-06-03 18:11:21.568  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:21.569 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:21.570 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:21.570 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:21.570 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:21.570  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:11:21.577  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: java.lang.NullPointerException: null
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted

2018-06-03 18:11:22.574  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:11:22.576 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:22.576  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: kumar@demo.com
2018-06-03 18:11:22.577 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:22.577 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:22.577 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:22.579 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:22.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:22.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:22.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:22.580 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:22.580  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: tarun@demo.com: Hello Tarun,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.613
2018-06-03 18:11:22.581  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:11:22.581  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: java.lang.NullPointerException: null
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted

2018-06-03 18:11:23.585  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: tarun@demo.com
2018-06-03 18:11:23.587  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:11:23.587  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: thuy@demo.com: Hello Thuy,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.614
2018-06-03 18:11:23.587 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:23.587 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:23.588 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:23.589  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:11:23.590  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: java.lang.NullPointerException: null
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted

2018-06-03 18:11:24.590  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: thuy@demo.com
2018-06-03 18:11:24.591  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: alex@demo.com: Hello Alex,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.614
2018-06-03 18:11:24.594  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:11:24.594 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:24.594 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:24.595 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:24.596  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:11:24.596  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: java.lang.NullPointerException: null
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted

2018-06-03 18:11:25.592  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: alex@demo.com
2018-06-03 18:11:25.593  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: jerry@demo.com: Hello Jerry,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:11:05.615
2018-06-03 18:11:25.597  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:11:25.597 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:11:25.597 DEBUG 78484 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:11:25.598 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:11:25.598 DEBUG 78484 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:11:25.599 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:25.599 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:11:25.599 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:11:25.599 DEBUG 78484 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:11:25.599 DEBUG 78484 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:11:25.600  INFO 78484 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:11:25.600  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: java.lang.NullPointerException: null
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:34) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted

2018-06-03 18:11:26.394  INFO 78484 --- [Thread-11] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12708608: startup date [Sun Jun 03 18:11:03 PDT 2018]; root of context hierarchy
2018-06-03 18:11:26.394  INFO 78484 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55140-1528074668624-0:1) is shutting down
2018-06-03 18:11:26.397  INFO 78484 --- [Thread-11] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-06-03 18:11:26.405  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdate' - trying to recover. Cause: peer (vm://localhost#1) stopped.
2018-06-03 18:11:26.406  INFO 78484 --- [ActiveMQ ShutdownHook] o.a.activemq.broker.TransportConnector   : Connector vm://localhost stopped
2018-06-03 18:11:26.407  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdateack' - trying to recover. Cause: peer (vm://localhost#5) stopped.
2018-06-03 18:11:26.417  INFO 78484 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55140-1528074668624-0:1) uptime 18.013 seconds
2018-06-03 18:11:26.417  INFO 78484 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55140-1528074668624-0:1) is shutdown
2018-06-03 18:11:26.594 ERROR 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Application exception overridden by rollback error

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeNotificationReceiver.receiveMessage(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.jms.IllegalStateException: The Session is closed; nested exception is javax.jms.IllegalStateException: The Session is closed
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.jms.IllegalStateException: The Session is closed; nested exception is javax.jms.IllegalStateException: The Session is closed
	at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:274) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:661) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at my.payments.app.worker.PriceChangeNotificationReceiver.receiveMessage(PriceChangeNotificationReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: javax.jms.IllegalStateException: The Session is closed
	at org.apache.activemq.ActiveMQSession.checkClosed(ActiveMQSession.java:771) ~[activemq-client-5.15.3.jar:5.15.3]
	at org.apache.activemq.ActiveMQSession.createQueue(ActiveMQSession.java:1334) ~[activemq-client-5.15.3.jar:5.15.3]
	at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveQueue(DynamicDestinationResolver.java:85) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveDestinationName(DynamicDestinationResolver.java:59) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.support.destination.JmsDestinationAccessor.resolveDestinationName(JmsDestinationAccessor.java:115) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:585) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 20 common frames omitted

2018-06-03 18:11:26.595  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

javax.jms.IllegalStateException: The Session is closed
	at org.apache.activemq.ActiveMQSession.checkClosed(ActiveMQSession.java:771) ~[activemq-client-5.15.3.jar:5.15.3]
	at org.apache.activemq.ActiveMQSession.getTransacted(ActiveMQSession.java:540) ~[activemq-client-5.15.3.jar:5.15.3]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.rollbackOnExceptionIfNecessary(AbstractMessageListenerContainer.java:809) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:677) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:11:26.595  WARN 78484 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdatenotify' - trying to recover. Cause: The Session is closed
2018-06-03 18:11:26.596  INFO 78484 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-06-03 18:11:26.596  INFO 78484 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-06-03 18:11:26.600  INFO 78484 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:11:26.601 DEBUG 78484 --- [Thread-11] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing
2018-06-03 18:11:26.601 DEBUG 78484 --- [Thread-11] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST] overrode base registration [STYLE_PERSIST_SKIPLAZY]
2018-06-03 18:11:26.601 DEBUG 78484 --- [Thread-11] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2018-06-03 18:11:26.602 DEBUG 78484 --- [Thread-11] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2018-06-03 18:11:26.603  WARN 78484 --- [Thread-11] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2018-06-03 18:11:26.604  INFO 78484 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-06-03 18:11:26.606  INFO 78484 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-06-03 18:12:15.638 DEBUG 78728 --- [background-preinit] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:12:15.646 DEBUG 78728 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:12:15.647 DEBUG 78728 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:12:15.648 DEBUG 78728 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:12:15.648 DEBUG 78728 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:12:15.648 DEBUG 78728 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:12:15.678  INFO 78728 --- [restartedMain] my.payments.app.MainPaymentApp           : Starting MainPaymentApp on SANGSWAM-M-14DM with PID 78728 (/Users/sangswam/Documents/NetflixApp/my-app1/target/classes started by sangswam in /Users/sangswam/Documents/NetflixApp/my-app1)
2018-06-03 18:12:15.679  INFO 78728 --- [restartedMain] my.payments.app.MainPaymentApp           : No active profile set, falling back to default profiles: default
2018-06-03 18:12:15.743  INFO 78728 --- [restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12d3f887: startup date [Sun Jun 03 18:12:15 PDT 2018]; root of context hierarchy
2018-06-03 18:12:17.485  INFO 78728 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ae5ce74] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-03 18:12:17.823  INFO 78728 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-06-03 18:12:17.847  INFO 78728 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-06-03 18:12:17.848  INFO 78728 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-06-03 18:12:17.858  INFO 78728 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2018-06-03 18:12:17.949  INFO 78728 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-06-03 18:12:18.170  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-06-03 18:12:18.172  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet webServlet mapped to [/h2-console/*]
2018-06-03 18:12:18.175  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-06-03 18:12:18.175  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-06-03 18:12:18.175  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-06-03 18:12:18.175  INFO 78728 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-06-03 18:12:18.385  INFO 78728 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-06-03 18:12:18.608  INFO 78728 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-06-03 18:12:18.631  INFO 78728 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql]
2018-06-03 18:12:18.676  INFO 78728 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql] in 45 ms.
2018-06-03 18:12:18.679  INFO 78728 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql]
2018-06-03 18:12:18.727  INFO 78728 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql] in 47 ms.
2018-06-03 18:12:18.926  INFO 78728 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-03 18:12:18.953 DEBUG 78728 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : PersistenceUnitInfo [
	name: default
	persistence provider classname: null
	classloader: org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7feeb3e
	excludeUnlistedClasses: true
	JTA datasource: null
	Non JTA datasource: HikariDataSource (HikariPool-1)
	Transaction type: RESOURCE_LOCAL
	PU root URL: file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/
	Shared Cache Mode: UNSPECIFIED
	Validation Mode: AUTO
	Jar files URLs []
	Managed classes names [
		my.payments.app.dao.Customer
		my.payments.app.dao.Plan
		my.payments.app.dao.PriceInfo
		my.payments.app.controller
		my.payments.app.dao
		my.payments.app.external
		my.payments.app
		my.payments.app.pojo
		my.payments.app.worker]
	Mapping files names []
	Properties []
2018-06-03 18:12:18.976 DEBUG 78728 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2018-06-03 18:12:18.978 DEBUG 78728 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2018-06-03 18:12:18.985 DEBUG 78728 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2018-06-03 18:12:18.986 DEBUG 78728 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.jpa.event.spi.JpaIntegrator].
2018-06-03 18:12:19.068  INFO 78728 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2018-06-03 18:12:19.071  INFO 78728 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2018-06-03 18:12:19.091 DEBUG 78728 --- [restartedMain] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2018-06-03 18:12:19.136 DEBUG 78728 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2018-06-03 18:12:19.154  INFO 78728 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-06-03 18:12:19.287 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@3b7ebbbe
2018-06-03 18:12:19.287 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@3b7ebbbe
2018-06-03 18:12:19.288 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@3b7ebbbe
2018-06-03 18:12:19.289 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@431ab0e3
2018-06-03 18:12:19.293 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration true_false -> org.hibernate.type.TrueFalseType@14d12a27
2018-06-03 18:12:19.294 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration yes_no -> org.hibernate.type.YesNoType@2af8f487
2018-06-03 18:12:19.297 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@390897ad
2018-06-03 18:12:19.297 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@390897ad
2018-06-03 18:12:19.298 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@390897ad
2018-06-03 18:12:19.300 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration character -> org.hibernate.type.CharacterType@5616f2a1
2018-06-03 18:12:19.300 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char -> org.hibernate.type.CharacterType@5616f2a1
2018-06-03 18:12:19.300 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@5616f2a1
2018-06-03 18:12:19.303 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@25cbee55
2018-06-03 18:12:19.304 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@25cbee55
2018-06-03 18:12:19.304 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Short -> org.hibernate.type.ShortType@25cbee55
2018-06-03 18:12:19.306 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration integer -> org.hibernate.type.IntegerType@3ab31951
2018-06-03 18:12:19.306 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration int -> org.hibernate.type.IntegerType@3ab31951
2018-06-03 18:12:19.306 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@3ab31951
2018-06-03 18:12:19.308 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@a65a1d6
2018-06-03 18:12:19.309 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@a65a1d6
2018-06-03 18:12:19.309 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Long -> org.hibernate.type.LongType@a65a1d6
2018-06-03 18:12:19.312 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@2c5189e
2018-06-03 18:12:19.312 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@2c5189e
2018-06-03 18:12:19.312 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Float -> org.hibernate.type.FloatType@2c5189e
2018-06-03 18:12:19.314 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@31ebe53e
2018-06-03 18:12:19.314 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@31ebe53e
2018-06-03 18:12:19.314 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@31ebe53e
2018-06-03 18:12:19.317 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@6afeed1f
2018-06-03 18:12:19.317 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@6afeed1f
2018-06-03 18:12:19.318 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_integer -> org.hibernate.type.BigIntegerType@10866e76
2018-06-03 18:12:19.319 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@10866e76
2018-06-03 18:12:19.320 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration string -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:19.321 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.String -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:19.322 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nstring -> org.hibernate.type.StringNVarcharType@55b4af5d
2018-06-03 18:12:19.323 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@4e61227c
2018-06-03 18:12:19.325 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration url -> org.hibernate.type.UrlType@45a93558
2018-06-03 18:12:19.325 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.net.URL -> org.hibernate.type.UrlType@45a93558
2018-06-03 18:12:19.327 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Duration -> org.hibernate.type.DurationType@499f74d9
2018-06-03 18:12:19.328 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Duration -> org.hibernate.type.DurationType@499f74d9
2018-06-03 18:12:19.330 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Instant -> org.hibernate.type.InstantType@3f35d305
2018-06-03 18:12:19.331 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Instant -> org.hibernate.type.InstantType@3f35d305
2018-06-03 18:12:19.332 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDateTime -> org.hibernate.type.LocalDateTimeType@8ae191f
2018-06-03 18:12:19.333 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDateTime -> org.hibernate.type.LocalDateTimeType@8ae191f
2018-06-03 18:12:19.335 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDate -> org.hibernate.type.LocalDateType@4acc6618
2018-06-03 18:12:19.336 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDate -> org.hibernate.type.LocalDateType@4acc6618
2018-06-03 18:12:19.338 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalTime -> org.hibernate.type.LocalTimeType@70d09bf
2018-06-03 18:12:19.338 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalTime -> org.hibernate.type.LocalTimeType@70d09bf
2018-06-03 18:12:19.339 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4eccf486
2018-06-03 18:12:19.339 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4eccf486
2018-06-03 18:12:19.341 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetTime -> org.hibernate.type.OffsetTimeType@2cf875a7
2018-06-03 18:12:19.341 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetTime -> org.hibernate.type.OffsetTimeType@2cf875a7
2018-06-03 18:12:19.345 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@1e084c18
2018-06-03 18:12:19.345 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@1e084c18
2018-06-03 18:12:19.347 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration date -> org.hibernate.type.DateType@278a67
2018-06-03 18:12:19.347 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Date -> org.hibernate.type.DateType@278a67
2018-06-03 18:12:19.349 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration time -> org.hibernate.type.TimeType@44d79a0f
2018-06-03 18:12:19.349 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Time -> org.hibernate.type.TimeType@44d79a0f
2018-06-03 18:12:19.352 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timestamp -> org.hibernate.type.TimestampType@9f5cab6
2018-06-03 18:12:19.352 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@9f5cab6
2018-06-03 18:12:19.352 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Date -> org.hibernate.type.TimestampType@9f5cab6
2018-06-03 18:12:19.354 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@319761d5
2018-06-03 18:12:19.356 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar -> org.hibernate.type.CalendarType@48de7c4d
2018-06-03 18:12:19.356 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@48de7c4d
2018-06-03 18:12:19.356 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@48de7c4d
2018-06-03 18:12:19.358 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@538d8fa3
2018-06-03 18:12:19.360 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration locale -> org.hibernate.type.LocaleType@3fb1b983
2018-06-03 18:12:19.360 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@3fb1b983
2018-06-03 18:12:19.361 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration currency -> org.hibernate.type.CurrencyType@4440685e
2018-06-03 18:12:19.362 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@4440685e
2018-06-03 18:12:19.363 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timezone -> org.hibernate.type.TimeZoneType@33558e51
2018-06-03 18:12:19.363 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@33558e51
2018-06-03 18:12:19.365 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration class -> org.hibernate.type.ClassType@5f5bf4ed
2018-06-03 18:12:19.365 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Class -> org.hibernate.type.ClassType@5f5bf4ed
2018-06-03 18:12:19.368 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@75c7bbbc
2018-06-03 18:12:19.368 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@75c7bbbc
2018-06-03 18:12:19.369 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@c5671e2
2018-06-03 18:12:19.370 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration binary -> org.hibernate.type.BinaryType@72e70af9
2018-06-03 18:12:19.371 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte[] -> org.hibernate.type.BinaryType@72e70af9
2018-06-03 18:12:19.371 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [B -> org.hibernate.type.BinaryType@72e70af9
2018-06-03 18:12:19.373 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@71997fca
2018-06-03 18:12:19.373 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@71997fca
2018-06-03 18:12:19.373 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@71997fca
2018-06-03 18:12:19.374 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration row_version -> org.hibernate.type.RowVersionType@15bfcce1
2018-06-03 18:12:19.376 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration image -> org.hibernate.type.ImageType@20bdaaf0
2018-06-03 18:12:19.377 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration characters -> org.hibernate.type.CharArrayType@320b73a8
2018-06-03 18:12:19.377 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char[] -> org.hibernate.type.CharArrayType@320b73a8
2018-06-03 18:12:19.377 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [C -> org.hibernate.type.CharArrayType@320b73a8
2018-06-03 18:12:19.379 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@68c1c64f
2018-06-03 18:12:19.379 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@68c1c64f
2018-06-03 18:12:19.379 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@68c1c64f
2018-06-03 18:12:19.380 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration text -> org.hibernate.type.TextType@6802fe4
2018-06-03 18:12:19.381 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ntext -> org.hibernate.type.NTextType@33b57b80
2018-06-03 18:12:19.386 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration blob -> org.hibernate.type.BlobType@38f38fa9
2018-06-03 18:12:19.387 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@38f38fa9
2018-06-03 18:12:19.387 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@15359151
2018-06-03 18:12:19.392 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration clob -> org.hibernate.type.ClobType@6040787d
2018-06-03 18:12:19.392 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@6040787d
2018-06-03 18:12:19.396 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nclob -> org.hibernate.type.NClobType@373d4d13
2018-06-03 18:12:19.397 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@373d4d13
2018-06-03 18:12:19.397 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@558656cf
2018-06-03 18:12:19.398 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@12b85bfa
2018-06-03 18:12:19.400 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration serializable -> org.hibernate.type.SerializableType@3a28951f
2018-06-03 18:12:19.406 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration object -> org.hibernate.type.ObjectType@4ef185c
2018-06-03 18:12:19.406 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@4ef185c
2018-06-03 18:12:19.407 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@176f2672
2018-06-03 18:12:19.407 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@6a60d913
2018-06-03 18:12:19.407 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@29e5d48e
2018-06-03 18:12:19.407 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@35b27c75
2018-06-03 18:12:19.407 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@5b809007
2018-06-03 18:12:19.408 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@37c47225
2018-06-03 18:12:19.408 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@300281f7
2018-06-03 18:12:19.408 DEBUG 78728 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@16f50256
2018-06-03 18:12:19.422 DEBUG 78728 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Database ->
       name : H2
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:12:19.423 DEBUG 78728 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Driver ->
       name : H2 JDBC Driver
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:12:19.423 DEBUG 78728 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : JDBC version : 4.0
2018-06-03 18:12:19.445  INFO 78728 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-03 18:12:19.553 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2018-06-03 18:12:19.554 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2018-06-03 18:12:19.554 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:12:19.555 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:12:19.555 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2018-06-03 18:12:19.556 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2018-06-03 18:12:19.557 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2018-06-03 18:12:19.558 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:12:19.559 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2018-06-03 18:12:19.560 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2018-06-03 18:12:19.561 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2018-06-03 18:12:19.561 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2018-06-03 18:12:19.561 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:12:19.562 DEBUG 78728 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2018-06-03 18:12:19.605 DEBUG 78728 --- [restartedMain] o.h.boot.model.relational.Namespace      : Created database namespace [logicalName=Name{catalog=null, schema=null}, physicalName=Name{catalog=null, schema=null}]
2018-06-03 18:12:19.648 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.PriceInfo
2018-06-03 18:12:19.661 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:12:19.670 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name PriceInfo
2018-06-03 18:12:19.679 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.PriceInfo on table price_info
2018-06-03 18:12:19.718 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.723 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:12:19.726 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:priceId]
2018-06-03 18:12:19.729 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:12:19.732 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:12:19.739 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.739 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:12:19.739 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:countryCode]
2018-06-03 18:12:19.739 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:12:19.740 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:12:19.740 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=effective_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.740 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property effectiveDate with lazy=false
2018-06-03 18:12:19.740 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:effectiveDate]
2018-06-03 18:12:19.740 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for effectiveDate
2018-06-03 18:12:19.741 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property effectiveDate
2018-06-03 18:12:19.741 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.741 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:12:19.741 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:planCode]
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property price with lazy=false
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:price]
2018-06-03 18:12:19.742 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for price
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property price
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=rollout_status, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property rolloutStatus with lazy=false
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:rolloutStatus]
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for rolloutStatus
2018-06-03 18:12:19.743 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property rolloutStatus
2018-06-03 18:12:19.744 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.744 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:12:19.744 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:status]
2018-06-03 18:12:19.744 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:12:19.744 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:12:19.745 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Customer
2018-06-03 18:12:19.745 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:12:19.746 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Customer
2018-06-03 18:12:19.746 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Customer on table customer
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=email, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property email with lazy=false
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:email]
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for email
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property email
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:12:19.747 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:countryCode]
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=customer_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property customerName with lazy=false
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:customerName]
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for customerName
2018-06-03 18:12:19.748 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property customerName
2018-06-03 18:12:19.749 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=next_billdate, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.749 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property nextBilldate with lazy=false
2018-06-03 18:12:19.749 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:nextBilldate]
2018-06-03 18:12:19.749 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for nextBilldate
2018-06-03 18:12:19.749 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property nextBilldate
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=onboard_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property onboardDate with lazy=false
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:onboardDate]
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for onboardDate
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property onboardDate
2018-06-03 18:12:19.750 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:planCode]
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.751 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:priceId]
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:status]
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:12:19.752 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:12:19.753 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Plan
2018-06-03 18:12:19.753 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:12:19.753 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Plan
2018-06-03 18:12:19.753 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Plan on table plan
2018-06-03 18:12:19.756 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.756 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:12:19.756 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planCode]
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planName with lazy=false
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planName]
2018-06-03 18:12:19.757 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planName
2018-06-03 18:12:19.758 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planName
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for effectiveDate
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for price
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for rolloutStatus
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for email
2018-06-03 18:12:19.759 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for customerName
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for nextBilldate
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for onboardDate
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:12:19.760 DEBUG 78728 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planName
2018-06-03 18:12:19.762 DEBUG 78728 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [price_id] to be non-null as it is part of the primary key for table [price_info]
2018-06-03 18:12:19.762 DEBUG 78728 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [email] to be non-null as it is part of the primary key for table [customer]
2018-06-03 18:12:19.762 DEBUG 78728 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [plan_code] to be non-null as it is part of the primary key for table [plan]
2018-06-03 18:12:19.825 DEBUG 78728 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Building session factory
2018-06-03 18:12:19.826 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : SessionFactory name : null
2018-06-03 18:12:19.826 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic flush during beforeCompletion(): enabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic session close at end of transaction: disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Statistics: disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Deleted entity synthetic identifier rollback: disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Default entity-mode: pojo
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Allow initialization of lazy state outside session : disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Using BatchFetchStyle : LEGACY
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Default batch fetch size: -1
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Maximum outer join fetch depth: null
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Default null ordering: NONE
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL updates by primary key: disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL inserts for batching: disabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : multi-tenancy strategy : NONE
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JTA Track by Thread: enabled
2018-06-03 18:12:19.827 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Query language substitutions: {}
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JPA query language strict compliance: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Named query checking : enabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache factory: null
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache region prefix: null
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Optimize second-level cache for minimal puts: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Structured second-level cache entries: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache direct-reference entries: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic eviction of collection cache: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch size: 15
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch updates for versioned data: enabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Scrollable result sets: enabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Wrap result sets: disabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC3 getGeneratedKeys(): enabled
2018-06-03 18:12:19.828 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC result set fetch size: null
2018-06-03 18:12:19.829 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Connection release mode: ON_CLOSE
2018-06-03 18:12:19.829 DEBUG 78728 --- [restartedMain] org.hibernate.cfg.Settings               : Generate SQL with comments: disabled
2018-06-03 18:12:19.910 DEBUG 78728 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Session factory constructed with filter configurations : {}
2018-06-03 18:12:19.910 DEBUG 78728 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiating session factory with properties: {gopherProxySet=false, awt.toolkit=sun.lwawt.macosx.LWCToolkit, hibernate.id.new_generator_mappings=true, file.encoding.pkg=sun.io, java.specification.version=1.8, sun.cpu.isalist=, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, sun.jnu.encoding=UTF-8, hibernate.dialect=org.hibernate.dialect.H2Dialect, hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy, java.class.path=/Users/sangswam/Documents/NetflixApp/my-app1/target/classes:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.0.2.RELEASE/spring-boot-starter-thymeleaf-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf-spring5/3.0.9.RELEASE/thymeleaf-spring5-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf/3.0.9.RELEASE/thymeleaf-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/attoparser/attoparser/2.0.4.RELEASE/attoparser-2.0.4.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/unbescape/unbescape/1.1.5.RELEASE/unbescape-1.1.5.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.1.RELEASE/thymeleaf-extras-java8time-3.0.1.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-devtools/2.0.2.RELEASE/spring-boot-devtools-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/h2database/h2/1.4.197/h2-1.4.197.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-activemq/2.0.2.RELEASE/spring-boot-starter-activemq-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jms/5.0.6.RELEASE/spring-jms-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-messaging/5.0.6.RELEASE/spring-messaging-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/jms/javax.jms-api/2.0.1/javax.jms-api-2.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-broker/5.15.3/activemq-broker-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-client/5.15.3/activemq-client-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-jms_1.1_spec/1.1.1/geronimo-jms_1.1_spec-1.1.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/fusesource/hawtbuf/hawtbuf/1.11/hawtbuf-1.11.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-j2ee-management_1.1_spec/1.0.1/geronimo-j2ee-management_1.1_spec-1.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-openwire-legacy/5.15.3/activemq-openwire-legacy-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, catalina.useNaming=false, java.vendor.url=http://java.oracle.com/, user.timezone=America/Los_Angeles, os.name=Mac OS X, java.vm.specification.version=1.8, javax.persistence.validation.mode=AUTO, sun.java.launcher=SUN_STANDARD, user.country=US, sun.boot.library.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib, sun.java.command=my.payments.app.MainPaymentApp, hibernate.transaction.jta.platform=org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform@325c7f04, http.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, javax.persistence.sharedCache.mode=UNSPECIFIED, sun.cpu.endian=little, user.home=/Users/sangswam, user.language=en, java.specification.vendor=Oracle Corporation, java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre, file.separator=/, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, java.awt.graphicsenv=sun.awt.CGraphicsEnvironment, java.awt.headless=true, sun.boot.class.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/sunrsasign.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/classes, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, ftp.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, java.runtime.version=1.8.0_144-b01, user.name=sangswam, path.separator=:, os.version=10.12.6, java.endorsed.dirs=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, file.encoding=UTF-8, spring.beaninfo.ignore=true, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, LOG_FILE=logs/mylogfile.log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, java.io.tmpdir=/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/, com.zaxxer.hikari.pool_number=1, catalina.home=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.6465556920786957356.8080, java.version=1.8.0_144, hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy, user.dir=/Users/sangswam/Documents/NetflixApp/my-app1, os.arch=x86_64, PID=78728, java.vm.specification.name=Java Virtual Machine Specification, java.awt.printerjob=sun.lwawt.macosx.CPrinterJob, sun.os.patch.level=unknown, catalina.base=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.6465556920786957356.8080, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@2019f9a5, java.library.path=/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:., java.vendor=Oracle Corporation, java.vm.info=mixed mode, java.vm.version=25.144-b01, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariPool-1), sun.io.unicode.encoding=UnicodeBig, java.ext.dirs=/Users/sangswam/Library/Java/Extensions:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java, java.class.version=52.0, socksNonProxyHosts=local|*.local|169.254/16|*.169.254/16}
2018-06-03 18:12:19.928 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:12:19.928 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:12:19.929 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:12:19.929 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:12:19.929 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:12:19.929 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:12:19.929 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:12:19.937 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:12:19.939 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:12:19.939 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:12:19.989 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:12:19.989 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:12:19.994 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:12:19.994 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:12:20.000 DEBUG 78728 --- [restartedMain] org.hibernate.secure.spi.JaccIntegrator  : Skipping JACC integration as it was not enabled
2018-06-03 18:12:20.005 DEBUG 78728 --- [restartedMain] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST_SKIPLAZY] overrode base registration [STYLE_PERSIST]
2018-06-03 18:12:20.019 DEBUG 78728 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiated session factory
2018-06-03 18:12:20.069 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:12:20.069 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:12:20.084 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:12:20.085 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:12:20.131 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:12:20.132 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:12:20.133 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:12:20.133 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:12:20.139 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:12:20.139 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:12:20.139 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:12:20.139 DEBUG 78728 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:12:20.149 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.PriceInfo
2018-06-03 18:12:20.149 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select price_id from price_info where price_id =?
2018-06-03 18:12:20.150 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select priceinfo_.price_id, priceinfo_.country_code as country_2_2_, priceinfo_.effective_date as effectiv3_2_, priceinfo_.plan_code as plan_cod4_2_, priceinfo_.price as price5_2_, priceinfo_.rollout_status as rollout_6_2_, priceinfo_.status as status7_2_ from price_info priceinfo_ where priceinfo_.price_id=?
2018-06-03 18:12:20.150 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:12:20.150 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update price_info set country_code=?, effective_date=?, plan_code=?, price=?, rollout_status=?, status=? where price_id=?
2018-06-03 18:12:20.150 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from price_info where price_id=?
2018-06-03 18:12:20.186 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7820e96f]
2018-06-03 18:12:20.187 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.187 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.187 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.187 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.187 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.188 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.188 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.206 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.213 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.216 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [NONE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@db1ae1a]
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.217 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.218 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.218 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@176eca58]
2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.219 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.220 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@35935d98]
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.221 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.222 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.222 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.222 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_NOWAIT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.222 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d0fefa6]
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.223 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_SKIPLOCKED]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@600d3d7b]
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.224 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [FORCE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@68663a15]
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.225 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40413a59]
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.226 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_WRITE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@572728db]
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.227 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@26ecc7a0]
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.228 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6895ee6]
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.229 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.230 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.231 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:12:20.231 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.251 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.251 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Customer
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select email from customer where email =?
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select customer_.email, customer_.country_code as country_2_0_, customer_.customer_name as customer3_0_, customer_.next_billdate as next_bil4_0_, customer_.onboard_date as onboard_5_0_, customer_.plan_code as plan_cod6_0_, customer_.price_id as price_id7_0_, customer_.status as status8_0_ from customer customer_ where customer_.email=?
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into customer (country_code, customer_name, next_billdate, onboard_date, plan_code, price_id, status, email) values (?, ?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from customer where email=?
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@61e61511]
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.252 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [NONE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1d1d856f]
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.253 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.254 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2cbf9526]
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.255 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@316aa031]
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.256 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_NOWAIT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e3b4de7]
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.257 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.258 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_SKIPLOCKED]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@51afe878]
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.259 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [FORCE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34de3252]
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.260 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2a62bb5d]
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.261 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_WRITE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6fcba025]
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.262 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.263 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.264 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.265 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.265 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.265 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:12:20.265 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5717a0ee]
2018-06-03 18:12:20.265 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.266 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d4958f9]
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.267 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.268 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:12:20.268 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.268 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Plan
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select plan_code from plan where plan_code =?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select plan_.plan_code, plan_.plan_name as plan_nam2_1_ from plan plan_ where plan_.plan_code=?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into plan (plan_name, plan_code) values (?, ?)
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update plan set plan_name=? where plan_code=?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from plan where plan_code=?
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5dfef4aa]
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.269 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [NONE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2d8cfd9b]
2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.270 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@11fc85b3]
2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.271 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4ef3067d]
2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.272 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_NOWAIT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6be4be84]
2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.273 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_SKIPLOCKED]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@737f499d]
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.274 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [FORCE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@20f36abe]
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47d3fa99]
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.275 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_WRITE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7da9c181]
2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.276 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.277 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.277 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.277 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:12:20.277 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@72f935b6]
2018-06-03 18:12:20.277 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5352142b]
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:12:20.278 DEBUG 78728 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:12:20.279 DEBUG 78728 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:12:20.279 DEBUG 78728 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:12:20.279 DEBUG 78728 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.279 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.279 DEBUG 78728 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:12:20.302 DEBUG 78728 --- [restartedMain] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing
2018-06-03 18:12:20.303 DEBUG 78728 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named HQL queries
2018-06-03 18:12:20.304 DEBUG 78728 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named SQL queries
2018-06-03 18:12:20.305 DEBUG 78728 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@73717d6
2018-06-03 18:12:20.306 DEBUG 78728 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Registering SessionFactory: df611d6a-c206-4fdb-8635-7f2fdacbc37b (<unnamed>)
2018-06-03 18:12:20.306 DEBUG 78728 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Not binding SessionFactory to JNDI, no JNDI name configured
2018-06-03 18:12:20.306  INFO 78728 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:12:20.665 DEBUG 78728 --- [restartedMain] o.h.stat.internal.StatisticsInitiator    : Statistics initialized [enabled=false]
2018-06-03 18:12:20.827 DEBUG 78728 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : QueryTranslatorFactory : org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory@2e0cf8b9
2018-06-03 18:12:20.827  INFO 78728 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-03 18:12:20.862 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:12:20.870 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:20.872 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'PriceInfo'
    |  |     \-[ALIAS] Node: 'p'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'p'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[EQ] Node: '='
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'p'
          |  |  \-[IDENT] Node: 'status'
          |  \-[QUOTED_STRING] Node: ''ACTIVE''
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'p'
             |  \-[IDENT] Node: 'rolloutStatus'
             \-[QUOTED_STRING] Node: ''PENDING''

2018-06-03 18:12:20.903 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:12:20.921 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.PriceInfo (p) -> priceinfo0_
2018-06-03 18:12:20.922 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:12:20.926 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:12:20.928 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:20.928 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.status -> priceinfo0_.status
2018-06-03 18:12:20.930 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:12:20.930 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : rolloutStatus -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:20.931 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.rolloutStatus -> priceinfo0_.rollout_status
2018-06-03 18:12:20.932 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:12:20.932 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} priceinfo0_.price_id ) ( FromClause{level=1} price_info priceinfo0_ ) ( where ( and ( = ( priceinfo0_.status priceinfo0_.price_id status ) 'ACTIVE' ) ( = ( priceinfo0_.rollout_status priceinfo0_.price_id rolloutStatus ) 'PENDING' ) ) ) )
2018-06-03 18:12:20.945 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [price_info priceinfo0_]
2018-06-03 18:12:20.945 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:12:20.946 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (price_info)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id as price_id1_2_' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
    |  \-[SQL_TOKEN] SqlFragment: 'priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[p], fromElementByTableAlias=[priceinfo0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'price_info priceinfo0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=p,role=null,tableName=price_info,tableAlias=priceinfo0_,origin=null,columns={,className=my.payments.app.dao.PriceInfo}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'priceinfo0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=p.status,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
          |  |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
          |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'priceinfo0_.rollout_status' {propertyName=rolloutStatus,dereferenceType=PRIMITIVE,getPropertyPath=rolloutStatus,path=p.rolloutStatus,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
             |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
             |  \-[IDENT] IdentNode: 'rolloutStatus' {originalText=rolloutStatus}
             \-[QUOTED_STRING] LiteralNode: ''PENDING''

2018-06-03 18:12:20.946 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:20.957 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:12:20.957 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:12:20.957 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.005 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:12:21.006 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.007 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'c'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:12:21.007 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:12:21.007 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.008 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:12:21.010 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.010 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.010 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:12:21.010 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:12:21.010 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} customer0_.email ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:12:21.011 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:12:21.011 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:12:21.011 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'customer0_.email as email1_0_' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  \-[SQL_TOKEN] SqlFragment: 'customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@45d8f0c9}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@45d8f0c9}

2018-06-03 18:12:21.011 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.012 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:12:21.012 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as email1_0_, customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:12:21.012 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.020 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:12:21.021 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.022 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[DOT] Node: '.'
    |        +-[IDENT] Node: 'c'
    |        \-[IDENT] Node: 'email'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:12:21.022 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : email -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.email -> customer0_.email
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.023 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@45d8f0c9
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:12:21.024 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} ( customer0_.email customer0_.email email ) ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:12:21.025 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:12:21.025 DEBUG 78728 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:12:21.026 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[DOT] DotNode: 'customer0_.email' {propertyName=email,dereferenceType=PRIMITIVE,getPropertyPath=email,path=c.email,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
    |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  |  \-[IDENT] IdentNode: 'email' {originalText=email}
    |  \-[SELECT_COLUMNS] SqlNode: ' as col_0_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@45d8f0c9}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@45d8f0c9}

2018-06-03 18:12:21.026 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.026 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:12:21.026 DEBUG 78728 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:12:21.026 DEBUG 78728 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processorThreshold
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.availableProcessorCount
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processingChunkSize
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_NOTIFY_PRICE_UPDATE
2018-06-03 18:12:21.037  WARN 78728 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE_ACK
2018-06-03 18:12:21.203 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:12:21.203 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:12:21.203 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:12:21.203 DEBUG 78728 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:12:21.213 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:12:21.213 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:12:21.213 DEBUG 78728 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:12:21.214 DEBUG 78728 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom MessageInterpolator of type org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator
2018-06-03 18:12:21.214 DEBUG 78728 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ConstraintValidatorFactory of type org.springframework.validation.beanvalidation.SpringConstraintValidatorFactory
2018-06-03 18:12:21.215 DEBUG 78728 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ParameterNameProvider of type org.springframework.validation.beanvalidation.LocalValidatorFactoryBean$1
2018-06-03 18:12:21.216 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:12:21.216 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via user class loader
2018-06-03 18:12:21.216 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:12:21.216 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:12:21.216 DEBUG 78728 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:12:21.221 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:12:21.221 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:12:21.221 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:12:21.221 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:12:21.221 DEBUG 78728 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:12:21.727  WARN 78728 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-03 18:12:21.986  INFO 78728 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2018-06-03 18:12:22.384  WARN 78728 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2018-06-03 18:12:22.468  INFO 78728 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-06-03 18:12:22.470  INFO 78728 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-06-03 18:12:22.478  INFO 78728 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-06-03 18:12:22.484  INFO 78728 --- [restartedMain] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-06-03 18:12:22.823  INFO 78728 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Using Persistence Adapter: MemoryPersistenceAdapter
2018-06-03 18:12:22.861  INFO 78728 --- [JMX connector] o.a.a.broker.jmx.ManagementContext       : JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2018-06-03 18:12:22.989  INFO 78728 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55153-1528074742850-0:1) is starting
2018-06-03 18:12:22.994  INFO 78728 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55153-1528074742850-0:1) started
2018-06-03 18:12:22.994  INFO 78728 --- [restartedMain] o.apache.activemq.broker.BrokerService   : For help or more information please see: http://activemq.apache.org
2018-06-03 18:12:23.025  INFO 78728 --- [restartedMain] o.a.activemq.broker.TransportConnector   : Connector vm://localhost started
2018-06-03 18:12:23.138  INFO 78728 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-06-03 18:12:23.145  INFO 78728 --- [restartedMain] my.payments.app.MainPaymentApp           : Started MainPaymentApp in 7.822 seconds (JVM running for 8.626)
2018-06-03 18:13:00.854  INFO 78728 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-06-03 18:13:00.963  INFO 78728 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Received price update: Plan Code: 1S
Country Code: 1
Price: 15.0
Status: null
Rollout Status: null
2018-06-03 18:13:00.979 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:00.997 DEBUG 78728 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : call next value for price_info_sequence_id
2018-06-03 18:13:01.010 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.id.enhanced.SequenceStructure        : Sequence value obtained: 5
2018-06-03 18:13:01.010 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:01.012 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 5, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator
2018-06-03 18:13:01.031 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:01.032 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:13:01.034 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:13:01.036 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.i.AbstractFlushingEventListener    : Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2018-06-03 18:13:01.036 DEBUG 78728 --- [http-nio-8080-exec-2] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:13:01.038 DEBUG 78728 --- [http-nio-8080-exec-2] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:13:01.038 DEBUG 78728 --- [http-nio-8080-exec-2] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.PriceInfo{rolloutStatus=PENDING, countryCode=1, price=15.0, priceId=5, effectiveDate=null, planCode=1S, status=ACTIVE}
2018-06-03 18:13:01.048 DEBUG 78728 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:13:01.054  INFO 78728 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Saved price update to DB: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:13:05.334  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Calling price checker ...
2018-06-03 18:13:05.335  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Start... checkForPriceUpdates
2018-06-03 18:13:05.348 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:13:05.349 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:13:05.351 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.PriceInfo#5]
2018-06-03 18:13:05.355 DEBUG 78728 --- [http-nio-8080-exec-3] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:13:05.356 DEBUG 78728 --- [http-nio-8080-exec-3] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:13:05.358  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of price updates to process = 1
2018-06-03 18:13:05.358  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Processing priceUpdate: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:13:05.367 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:13:05.367 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:13:05.367 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 1
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 2
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 3
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 4
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 5
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 6
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result set row: 7
2018-06-03 18:13:05.368 DEBUG 78728 --- [http-nio-8080-exec-3] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:13:05.368  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of customers affected = 8
2018-06-03 18:13:05.369  INFO 78728 --- [http-nio-8080-exec-3] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:13:05.369  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Number of processors to start = 1
2018-06-03 18:13:05.369  INFO 78728 --- [http-nio-8080-exec-3] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:13:05.369  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 0
2018-06-03 18:13:05.399  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=0, end=2
2018-06-03 18:13:05.399  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 2
2018-06-03 18:13:05.420  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=2, end=4
2018-06-03 18:13:05.420  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 4
2018-06-03 18:13:05.432  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=4, end=6
2018-06-03 18:13:05.432  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk startIndex = 6
2018-06-03 18:13:05.444  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=6, end=8
2018-06-03 18:13:05.444  INFO 78728 --- [http-nio-8080-exec-3] m.p.app.controller.PriceInfoController   : checkForPriceUpdates ... done
2018-06-03 18:13:05.472  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [sangeetha@demo.com, kumar@demo.com]
2018-06-03 18:13:05.477 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.486 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.490 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.491 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.494 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:13:05.494 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:13:05.494 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.494 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:13:05.495 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.495  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: sangeetha@demo.com
2018-06-03 18:13:05.499  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: sangeetha@demo.com
2018-06-03 18:13:05.501 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.502 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.503 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.503 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.504 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:13:05.504 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:13:05.505 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.505 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:13:05.505 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.507  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: kumar@demo.com
2018-06-03 18:13:05.512  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: kumar@demo.com
2018-06-03 18:13:05.523  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [tarun@demo.com, thuy@demo.com]
2018-06-03 18:13:05.523 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.523 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.526 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.526 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.527 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:13:05.528 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:13:05.529 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.529 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:13:05.529 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.531  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: tarun@demo.com
2018-06-03 18:13:05.538  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: tarun@demo.com
2018-06-03 18:13:05.539 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.541 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.542 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.542 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.543 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:13:05.544 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:13:05.544 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.544 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#thuy@demo.com
2018-06-03 18:13:05.545 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.545  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: thuy@demo.com
2018-06-03 18:13:05.547  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: thuy@demo.com
2018-06-03 18:13:05.553  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [alex@demo.com, jerry@demo.com]
2018-06-03 18:13:05.554 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.554 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.555 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.556 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.557 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:13:05.557 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:13:05.557 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.557 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#alex@demo.com
2018-06-03 18:13:05.557 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.558  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: alex@demo.com
2018-06-03 18:13:05.560  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: alex@demo.com
2018-06-03 18:13:05.561 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.561 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.562 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.562 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.563 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:13:05.563 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:13:05.564 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.564 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#jerry@demo.com
2018-06-03 18:13:05.564 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.565  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: jerry@demo.com
2018-06-03 18:13:05.568  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: jerry@demo.com
2018-06-03 18:13:05.572  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [bala@demo.com, monika@demo.com]
2018-06-03 18:13:05.572 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.573 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.573 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.573 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.574 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:13:05.574 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:13:05.574 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.574 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#bala@demo.com
2018-06-03 18:13:05.574 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.575  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: bala@demo.com
2018-06-03 18:13:05.576  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: bala@demo.com
2018-06-03 18:13:05.577 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:13:05.578 DEBUG 78728 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:13:05.578 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:13:05.578 DEBUG 78728 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:13:05.579 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:13:05.580 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:13:05.580 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:13:05.581 DEBUG 78728 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#monika@demo.com
2018-06-03 18:13:05.581 DEBUG 78728 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:13:05.581  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: monika@demo.com
2018-06-03 18:13:05.583  INFO 78728 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: monika@demo.com
2018-06-03 18:14:49.946  INFO 78728 --- [Thread-1] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12d3f887: startup date [Sun Jun 03 18:12:15 PDT 2018]; root of context hierarchy
2018-06-03 18:14:49.949  INFO 78728 --- [Thread-1] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-06-03 18:16:50.135 DEBUG 79611 --- [background-preinit] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:16:50.141 DEBUG 79611 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:16:50.142 DEBUG 79611 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:16:50.142 DEBUG 79611 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:16:50.142 DEBUG 79611 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:16:50.142 DEBUG 79611 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:16:50.205  INFO 79611 --- [restartedMain] my.payments.app.MainPaymentApp           : Starting MainPaymentApp on SANGSWAM-M-14DM with PID 79611 (/Users/sangswam/Documents/NetflixApp/my-app1/target/classes started by sangswam in /Users/sangswam/Documents/NetflixApp/my-app1)
2018-06-03 18:16:50.206  INFO 79611 --- [restartedMain] my.payments.app.MainPaymentApp           : No active profile set, falling back to default profiles: default
2018-06-03 18:16:50.255  INFO 79611 --- [restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@68a5d577: startup date [Sun Jun 03 18:16:50 PDT 2018]; root of context hierarchy
2018-06-03 18:16:51.537  INFO 79611 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e5e78b60] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-03 18:16:51.846  INFO 79611 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-06-03 18:16:51.871  INFO 79611 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-06-03 18:16:51.871  INFO 79611 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-06-03 18:16:51.880  INFO 79611 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2018-06-03 18:16:51.970  INFO 79611 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-06-03 18:16:52.135  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-06-03 18:16:52.136  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet webServlet mapped to [/h2-console/*]
2018-06-03 18:16:52.141  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-06-03 18:16:52.142  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-06-03 18:16:52.142  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-06-03 18:16:52.142  INFO 79611 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-06-03 18:16:52.305  INFO 79611 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-06-03 18:16:52.460  INFO 79611 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-06-03 18:16:52.483  INFO 79611 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql]
2018-06-03 18:16:52.525  INFO 79611 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql] in 41 ms.
2018-06-03 18:16:52.529  INFO 79611 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql]
2018-06-03 18:16:52.559  INFO 79611 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql] in 30 ms.
2018-06-03 18:16:52.700  INFO 79611 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-03 18:16:52.721 DEBUG 79611 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : PersistenceUnitInfo [
	name: default
	persistence provider classname: null
	classloader: org.springframework.boot.devtools.restart.classloader.RestartClassLoader@20a257ca
	excludeUnlistedClasses: true
	JTA datasource: null
	Non JTA datasource: HikariDataSource (HikariPool-1)
	Transaction type: RESOURCE_LOCAL
	PU root URL: file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/
	Shared Cache Mode: UNSPECIFIED
	Validation Mode: AUTO
	Jar files URLs []
	Managed classes names [
		my.payments.app.dao.Customer
		my.payments.app.dao.Plan
		my.payments.app.dao.PriceInfo
		my.payments.app.controller
		my.payments.app.dao
		my.payments.app.external
		my.payments.app
		my.payments.app.pojo
		my.payments.app.worker]
	Mapping files names []
	Properties []
2018-06-03 18:16:52.737 DEBUG 79611 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2018-06-03 18:16:52.739 DEBUG 79611 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2018-06-03 18:16:52.742 DEBUG 79611 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2018-06-03 18:16:52.743 DEBUG 79611 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.jpa.event.spi.JpaIntegrator].
2018-06-03 18:16:52.795  INFO 79611 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2018-06-03 18:16:52.796  INFO 79611 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2018-06-03 18:16:52.806 DEBUG 79611 --- [restartedMain] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2018-06-03 18:16:52.832 DEBUG 79611 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2018-06-03 18:16:52.842  INFO 79611 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-06-03 18:16:52.913 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@287eee47
2018-06-03 18:16:52.913 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@287eee47
2018-06-03 18:16:52.913 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@287eee47
2018-06-03 18:16:52.915 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@2dac7e73
2018-06-03 18:16:52.916 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration true_false -> org.hibernate.type.TrueFalseType@2d70adb4
2018-06-03 18:16:52.917 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration yes_no -> org.hibernate.type.YesNoType@45cc5e33
2018-06-03 18:16:52.919 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@6fdb1903
2018-06-03 18:16:52.919 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@6fdb1903
2018-06-03 18:16:52.920 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@6fdb1903
2018-06-03 18:16:52.921 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration character -> org.hibernate.type.CharacterType@368134a5
2018-06-03 18:16:52.921 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char -> org.hibernate.type.CharacterType@368134a5
2018-06-03 18:16:52.921 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@368134a5
2018-06-03 18:16:52.923 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@50d2e5b4
2018-06-03 18:16:52.924 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@50d2e5b4
2018-06-03 18:16:52.924 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Short -> org.hibernate.type.ShortType@50d2e5b4
2018-06-03 18:16:52.925 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration integer -> org.hibernate.type.IntegerType@63688295
2018-06-03 18:16:52.925 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration int -> org.hibernate.type.IntegerType@63688295
2018-06-03 18:16:52.926 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@63688295
2018-06-03 18:16:52.927 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@351233dd
2018-06-03 18:16:52.928 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@351233dd
2018-06-03 18:16:52.929 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Long -> org.hibernate.type.LongType@351233dd
2018-06-03 18:16:52.930 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@6e48cd8c
2018-06-03 18:16:52.931 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@6e48cd8c
2018-06-03 18:16:52.931 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Float -> org.hibernate.type.FloatType@6e48cd8c
2018-06-03 18:16:52.932 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@58db2088
2018-06-03 18:16:52.932 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@58db2088
2018-06-03 18:16:52.932 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@58db2088
2018-06-03 18:16:52.934 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@6a95a00
2018-06-03 18:16:52.934 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@6a95a00
2018-06-03 18:16:52.935 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_integer -> org.hibernate.type.BigIntegerType@1ec30df8
2018-06-03 18:16:52.935 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@1ec30df8
2018-06-03 18:16:52.936 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration string -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:52.937 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.String -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:52.937 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nstring -> org.hibernate.type.StringNVarcharType@2bbad692
2018-06-03 18:16:52.938 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@9fb935f
2018-06-03 18:16:52.939 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration url -> org.hibernate.type.UrlType@7e41842
2018-06-03 18:16:52.939 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.net.URL -> org.hibernate.type.UrlType@7e41842
2018-06-03 18:16:52.940 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Duration -> org.hibernate.type.DurationType@71e19acc
2018-06-03 18:16:52.941 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Duration -> org.hibernate.type.DurationType@71e19acc
2018-06-03 18:16:52.943 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Instant -> org.hibernate.type.InstantType@11315126
2018-06-03 18:16:52.943 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Instant -> org.hibernate.type.InstantType@11315126
2018-06-03 18:16:52.944 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDateTime -> org.hibernate.type.LocalDateTimeType@73d1b50e
2018-06-03 18:16:52.945 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDateTime -> org.hibernate.type.LocalDateTimeType@73d1b50e
2018-06-03 18:16:52.946 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDate -> org.hibernate.type.LocalDateType@4b2c2f61
2018-06-03 18:16:52.946 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDate -> org.hibernate.type.LocalDateType@4b2c2f61
2018-06-03 18:16:52.948 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalTime -> org.hibernate.type.LocalTimeType@75762ebb
2018-06-03 18:16:52.948 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalTime -> org.hibernate.type.LocalTimeType@75762ebb
2018-06-03 18:16:52.949 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@7039fdd2
2018-06-03 18:16:52.950 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@7039fdd2
2018-06-03 18:16:52.951 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetTime -> org.hibernate.type.OffsetTimeType@69ddfd2a
2018-06-03 18:16:52.951 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetTime -> org.hibernate.type.OffsetTimeType@69ddfd2a
2018-06-03 18:16:52.954 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@4873a832
2018-06-03 18:16:52.954 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@4873a832
2018-06-03 18:16:52.956 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration date -> org.hibernate.type.DateType@63a797ad
2018-06-03 18:16:52.956 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Date -> org.hibernate.type.DateType@63a797ad
2018-06-03 18:16:52.957 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration time -> org.hibernate.type.TimeType@6dead517
2018-06-03 18:16:52.957 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Time -> org.hibernate.type.TimeType@6dead517
2018-06-03 18:16:52.959 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timestamp -> org.hibernate.type.TimestampType@424059e
2018-06-03 18:16:52.959 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@424059e
2018-06-03 18:16:52.959 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Date -> org.hibernate.type.TimestampType@424059e
2018-06-03 18:16:52.960 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@505269b6
2018-06-03 18:16:52.961 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar -> org.hibernate.type.CalendarType@3813c48e
2018-06-03 18:16:52.961 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@3813c48e
2018-06-03 18:16:52.961 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@3813c48e
2018-06-03 18:16:52.962 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@18e1d86
2018-06-03 18:16:52.963 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration locale -> org.hibernate.type.LocaleType@5fac179f
2018-06-03 18:16:52.963 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@5fac179f
2018-06-03 18:16:52.964 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration currency -> org.hibernate.type.CurrencyType@1f562c33
2018-06-03 18:16:52.965 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@1f562c33
2018-06-03 18:16:52.966 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timezone -> org.hibernate.type.TimeZoneType@54ca3aad
2018-06-03 18:16:52.966 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@54ca3aad
2018-06-03 18:16:52.967 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration class -> org.hibernate.type.ClassType@31acb874
2018-06-03 18:16:52.967 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Class -> org.hibernate.type.ClassType@31acb874
2018-06-03 18:16:52.969 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@370985cb
2018-06-03 18:16:52.969 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@370985cb
2018-06-03 18:16:52.970 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@50bc97ad
2018-06-03 18:16:52.971 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration binary -> org.hibernate.type.BinaryType@305cfbfe
2018-06-03 18:16:52.971 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte[] -> org.hibernate.type.BinaryType@305cfbfe
2018-06-03 18:16:52.971 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [B -> org.hibernate.type.BinaryType@305cfbfe
2018-06-03 18:16:52.973 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@1179a8ad
2018-06-03 18:16:52.973 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@1179a8ad
2018-06-03 18:16:52.973 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@1179a8ad
2018-06-03 18:16:52.975 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration row_version -> org.hibernate.type.RowVersionType@6022c5e1
2018-06-03 18:16:52.975 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration image -> org.hibernate.type.ImageType@7c56b981
2018-06-03 18:16:52.977 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration characters -> org.hibernate.type.CharArrayType@48510c7b
2018-06-03 18:16:52.977 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char[] -> org.hibernate.type.CharArrayType@48510c7b
2018-06-03 18:16:52.977 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [C -> org.hibernate.type.CharArrayType@48510c7b
2018-06-03 18:16:52.979 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@603391ce
2018-06-03 18:16:52.979 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@603391ce
2018-06-03 18:16:52.979 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@603391ce
2018-06-03 18:16:52.980 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration text -> org.hibernate.type.TextType@1386dd4e
2018-06-03 18:16:52.980 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ntext -> org.hibernate.type.NTextType@53d4308b
2018-06-03 18:16:52.984 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration blob -> org.hibernate.type.BlobType@77c94d1f
2018-06-03 18:16:52.984 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@77c94d1f
2018-06-03 18:16:52.985 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@53c2c5c
2018-06-03 18:16:52.988 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration clob -> org.hibernate.type.ClobType@645d6fc3
2018-06-03 18:16:52.988 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@645d6fc3
2018-06-03 18:16:52.991 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nclob -> org.hibernate.type.NClobType@5226c618
2018-06-03 18:16:52.991 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@5226c618
2018-06-03 18:16:52.992 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@75d030f8
2018-06-03 18:16:52.993 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@44b5a5a1
2018-06-03 18:16:52.994 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration serializable -> org.hibernate.type.SerializableType@41f1fe26
2018-06-03 18:16:52.998 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration object -> org.hibernate.type.ObjectType@b52d325
2018-06-03 18:16:52.998 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@b52d325
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@3e8fa1cb
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@23d986c4
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@7c472a04
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@b1be761
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@48598e30
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@2759ce59
2018-06-03 18:16:52.999 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@628bc7bc
2018-06-03 18:16:53.000 DEBUG 79611 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@36ff0463
2018-06-03 18:16:53.009 DEBUG 79611 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Database ->
       name : H2
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:16:53.009 DEBUG 79611 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Driver ->
       name : H2 JDBC Driver
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:16:53.009 DEBUG 79611 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : JDBC version : 4.0
2018-06-03 18:16:53.023  INFO 79611 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-03 18:16:53.109 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2018-06-03 18:16:53.110 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2018-06-03 18:16:53.111 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:16:53.111 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:16:53.112 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2018-06-03 18:16:53.113 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2018-06-03 18:16:53.114 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2018-06-03 18:16:53.115 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:16:53.116 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2018-06-03 18:16:53.117 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2018-06-03 18:16:53.118 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2018-06-03 18:16:53.118 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2018-06-03 18:16:53.119 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:16:53.120 DEBUG 79611 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2018-06-03 18:16:53.152 DEBUG 79611 --- [restartedMain] o.h.boot.model.relational.Namespace      : Created database namespace [logicalName=Name{catalog=null, schema=null}, physicalName=Name{catalog=null, schema=null}]
2018-06-03 18:16:53.184 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.PriceInfo
2018-06-03 18:16:53.195 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:16:53.200 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name PriceInfo
2018-06-03 18:16:53.206 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.PriceInfo on table price_info
2018-06-03 18:16:53.228 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.232 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:16:53.234 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:priceId]
2018-06-03 18:16:53.235 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:16:53.238 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:16:53.243 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.244 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:16:53.244 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:countryCode]
2018-06-03 18:16:53.244 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:16:53.244 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:16:53.244 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=effective_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property effectiveDate with lazy=false
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:effectiveDate]
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for effectiveDate
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property effectiveDate
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:16:53.245 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:planCode]
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property price with lazy=false
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:price]
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for price
2018-06-03 18:16:53.246 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property price
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=rollout_status, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property rolloutStatus with lazy=false
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:rolloutStatus]
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for rolloutStatus
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property rolloutStatus
2018-06-03 18:16:53.247 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.248 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:16:53.248 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:status]
2018-06-03 18:16:53.248 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:16:53.249 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:16:53.250 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Customer
2018-06-03 18:16:53.251 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:16:53.251 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Customer
2018-06-03 18:16:53.251 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Customer on table customer
2018-06-03 18:16:53.252 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=email, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.252 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property email with lazy=false
2018-06-03 18:16:53.252 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:email]
2018-06-03 18:16:53.252 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for email
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property email
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:countryCode]
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=customer_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property customerName with lazy=false
2018-06-03 18:16:53.253 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:customerName]
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for customerName
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property customerName
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=next_billdate, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property nextBilldate with lazy=false
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:nextBilldate]
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for nextBilldate
2018-06-03 18:16:53.254 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property nextBilldate
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=onboard_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property onboardDate with lazy=false
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:onboardDate]
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for onboardDate
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property onboardDate
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:16:53.255 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:planCode]
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:priceId]
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:16:53.256 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:status]
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Plan
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:16:53.257 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Plan
2018-06-03 18:16:53.258 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Plan on table plan
2018-06-03 18:16:53.259 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.259 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:16:53.259 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planCode]
2018-06-03 18:16:53.259 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:16:53.259 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:16:53.260 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:16:53.260 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planName with lazy=false
2018-06-03 18:16:53.260 DEBUG 79611 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planName]
2018-06-03 18:16:53.260 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planName
2018-06-03 18:16:53.260 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planName
2018-06-03 18:16:53.261 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for effectiveDate
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for price
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for rolloutStatus
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for email
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for customerName
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for nextBilldate
2018-06-03 18:16:53.262 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for onboardDate
2018-06-03 18:16:53.263 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:16:53.263 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:16:53.263 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:16:53.263 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:16:53.263 DEBUG 79611 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planName
2018-06-03 18:16:53.265 DEBUG 79611 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [price_id] to be non-null as it is part of the primary key for table [price_info]
2018-06-03 18:16:53.265 DEBUG 79611 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [email] to be non-null as it is part of the primary key for table [customer]
2018-06-03 18:16:53.265 DEBUG 79611 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [plan_code] to be non-null as it is part of the primary key for table [plan]
2018-06-03 18:16:53.301 DEBUG 79611 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Building session factory
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : SessionFactory name : null
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic flush during beforeCompletion(): enabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic session close at end of transaction: disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Statistics: disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Deleted entity synthetic identifier rollback: disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Default entity-mode: pojo
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Allow initialization of lazy state outside session : disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Using BatchFetchStyle : LEGACY
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Default batch fetch size: -1
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Maximum outer join fetch depth: null
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Default null ordering: NONE
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL updates by primary key: disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL inserts for batching: disabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : multi-tenancy strategy : NONE
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JTA Track by Thread: enabled
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Query language substitutions: {}
2018-06-03 18:16:53.302 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JPA query language strict compliance: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Named query checking : enabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache factory: null
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache region prefix: null
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Optimize second-level cache for minimal puts: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Structured second-level cache entries: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache direct-reference entries: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic eviction of collection cache: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch size: 15
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch updates for versioned data: enabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Scrollable result sets: enabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Wrap result sets: disabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC3 getGeneratedKeys(): enabled
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC result set fetch size: null
2018-06-03 18:16:53.303 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Connection release mode: ON_CLOSE
2018-06-03 18:16:53.304 DEBUG 79611 --- [restartedMain] org.hibernate.cfg.Settings               : Generate SQL with comments: disabled
2018-06-03 18:16:53.349 DEBUG 79611 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Session factory constructed with filter configurations : {}
2018-06-03 18:16:53.350 DEBUG 79611 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiating session factory with properties: {gopherProxySet=false, awt.toolkit=sun.lwawt.macosx.LWCToolkit, hibernate.id.new_generator_mappings=true, file.encoding.pkg=sun.io, java.specification.version=1.8, sun.cpu.isalist=, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, sun.jnu.encoding=UTF-8, hibernate.dialect=org.hibernate.dialect.H2Dialect, hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy, java.class.path=/Users/sangswam/Documents/NetflixApp/my-app1/target/classes:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.0.2.RELEASE/spring-boot-starter-thymeleaf-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf-spring5/3.0.9.RELEASE/thymeleaf-spring5-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf/3.0.9.RELEASE/thymeleaf-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/attoparser/attoparser/2.0.4.RELEASE/attoparser-2.0.4.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/unbescape/unbescape/1.1.5.RELEASE/unbescape-1.1.5.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.1.RELEASE/thymeleaf-extras-java8time-3.0.1.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-devtools/2.0.2.RELEASE/spring-boot-devtools-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/h2database/h2/1.4.197/h2-1.4.197.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-activemq/2.0.2.RELEASE/spring-boot-starter-activemq-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jms/5.0.6.RELEASE/spring-jms-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-messaging/5.0.6.RELEASE/spring-messaging-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/jms/javax.jms-api/2.0.1/javax.jms-api-2.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-broker/5.15.3/activemq-broker-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-client/5.15.3/activemq-client-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-jms_1.1_spec/1.1.1/geronimo-jms_1.1_spec-1.1.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/fusesource/hawtbuf/hawtbuf/1.11/hawtbuf-1.11.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-j2ee-management_1.1_spec/1.0.1/geronimo-j2ee-management_1.1_spec-1.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-openwire-legacy/5.15.3/activemq-openwire-legacy-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, catalina.useNaming=false, java.vendor.url=http://java.oracle.com/, user.timezone=America/Los_Angeles, os.name=Mac OS X, java.vm.specification.version=1.8, javax.persistence.validation.mode=AUTO, sun.java.launcher=SUN_STANDARD, user.country=US, sun.boot.library.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib, sun.java.command=my.payments.app.MainPaymentApp, hibernate.transaction.jta.platform=org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform@1b9eff7c, http.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, javax.persistence.sharedCache.mode=UNSPECIFIED, sun.cpu.endian=little, user.home=/Users/sangswam, user.language=en, java.specification.vendor=Oracle Corporation, java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre, file.separator=/, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, java.awt.graphicsenv=sun.awt.CGraphicsEnvironment, java.awt.headless=true, sun.boot.class.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/sunrsasign.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/classes, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, ftp.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, java.runtime.version=1.8.0_144-b01, user.name=sangswam, path.separator=:, os.version=10.12.6, java.endorsed.dirs=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, file.encoding=UTF-8, spring.beaninfo.ignore=true, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, LOG_FILE=logs/mylogfile.log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, java.io.tmpdir=/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/, com.zaxxer.hikari.pool_number=1, catalina.home=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.5329785611169407201.8080, java.version=1.8.0_144, hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy, user.dir=/Users/sangswam/Documents/NetflixApp/my-app1, os.arch=x86_64, PID=79611, java.vm.specification.name=Java Virtual Machine Specification, java.awt.printerjob=sun.lwawt.macosx.CPrinterJob, sun.os.patch.level=unknown, catalina.base=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.5329785611169407201.8080, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@713f95be, java.library.path=/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:., java.vendor=Oracle Corporation, java.vm.info=mixed mode, java.vm.version=25.144-b01, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariPool-1), sun.io.unicode.encoding=UnicodeBig, java.ext.dirs=/Users/sangswam/Library/Java/Extensions:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java, java.class.version=52.0, socksNonProxyHosts=local|*.local|169.254/16|*.169.254/16}
2018-06-03 18:16:53.366 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:16:53.366 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:16:53.366 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:16:53.366 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:16:53.367 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:16:53.367 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:16:53.367 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:16:53.370 DEBUG 79611 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:16:53.370 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:16:53.371 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:16:53.371 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:16:53.371 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:16:53.371 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:16:53.372 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:16:53.372 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:16:53.402 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:16:53.402 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:16:53.407 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:16:53.407 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:16:53.410 DEBUG 79611 --- [restartedMain] org.hibernate.secure.spi.JaccIntegrator  : Skipping JACC integration as it was not enabled
2018-06-03 18:16:53.413 DEBUG 79611 --- [restartedMain] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST_SKIPLAZY] overrode base registration [STYLE_PERSIST]
2018-06-03 18:16:53.423 DEBUG 79611 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiated session factory
2018-06-03 18:16:53.451 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:16:53.451 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:16:53.459 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:16:53.459 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:16:53.492 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:16:53.492 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:16:53.493 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:16:53.493 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:16:53.497 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:16:53.497 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:16:53.497 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:16:53.497 DEBUG 79611 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.PriceInfo
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select price_id from price_info where price_id =?
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select priceinfo_.price_id, priceinfo_.country_code as country_2_2_, priceinfo_.effective_date as effectiv3_2_, priceinfo_.plan_code as plan_cod4_2_, priceinfo_.price as price5_2_, priceinfo_.rollout_status as rollout_6_2_, priceinfo_.status as status7_2_ from price_info priceinfo_ where priceinfo_.price_id=?
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update price_info set country_code=?, effective_date=?, plan_code=?, price=?, rollout_status=?, status=? where price_id=?
2018-06-03 18:16:53.503 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from price_info where price_id=?
2018-06-03 18:16:53.525 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5debbecf]
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.526 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.536 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.540 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [NONE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5658f95b]
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.542 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.543 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.543 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.543 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.543 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f31e95c]
2018-06-03 18:16:53.543 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@512193bd]
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.544 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.545 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.545 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.545 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.545 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.545 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_NOWAIT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47f9835d]
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.546 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_SKIPLOCKED]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7ce05d19]
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [FORCE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.547 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2f766f6f]
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4c9ff40d]
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.548 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_WRITE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@35dc7e6]
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.549 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49bff389]
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7630a1]
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.550 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:16:53.551 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.562 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.562 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:16:53.562 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Customer
2018-06-03 18:16:53.562 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select email from customer where email =?
2018-06-03 18:16:53.562 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select customer_.email, customer_.country_code as country_2_0_, customer_.customer_name as customer3_0_, customer_.next_billdate as next_bil4_0_, customer_.onboard_date as onboard_5_0_, customer_.plan_code as plan_cod6_0_, customer_.price_id as price_id7_0_, customer_.status as status8_0_ from customer customer_ where customer_.email=?
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into customer (country_code, customer_name, next_billdate, onboard_date, plan_code, price_id, status, email) values (?, ?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from customer where email=?
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bd301e2]
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [NONE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6fb171fd]
2018-06-03 18:16:53.563 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47e27bac]
2018-06-03 18:16:53.564 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@68352ddb]
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.565 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_NOWAIT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5aca964]
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.566 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_SKIPLOCKED]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@347024eb]
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.567 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [FORCE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@39e2e010]
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.568 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2d684206]
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.569 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_WRITE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@761a081d]
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.570 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@52983fe1]
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.571 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18d5fc44]
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:16:53.572 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Plan
2018-06-03 18:16:53.573 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select plan_code from plan where plan_code =?
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select plan_.plan_code, plan_.plan_name as plan_nam2_1_ from plan plan_ where plan_.plan_code=?
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into plan (plan_name, plan_code) values (?, ?)
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update plan set plan_name=? where plan_code=?
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from plan where plan_code=?
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4ffb283f]
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [NONE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@c2dcee0]
2018-06-03 18:16:53.574 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3db28732]
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.575 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@de5ee06]
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_NOWAIT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@78402a15]
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.576 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_SKIPLOCKED]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e10fded]
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [FORCE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@633fb9a2]
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.577 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7b32006f]
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_WRITE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4e600b2c]
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.578 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@24ddf214]
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58c51142]
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:16:53.579 DEBUG 79611 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:16:53.580 DEBUG 79611 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:16:53.580 DEBUG 79611 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.580 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.580 DEBUG 79611 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:16:53.596 DEBUG 79611 --- [restartedMain] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing
2018-06-03 18:16:53.597 DEBUG 79611 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named HQL queries
2018-06-03 18:16:53.597 DEBUG 79611 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named SQL queries
2018-06-03 18:16:53.598 DEBUG 79611 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@4dc3a9ab
2018-06-03 18:16:53.598 DEBUG 79611 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Registering SessionFactory: 36153c15-6851-4b20-b375-3f423593aab0 (<unnamed>)
2018-06-03 18:16:53.598 DEBUG 79611 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Not binding SessionFactory to JNDI, no JNDI name configured
2018-06-03 18:16:53.599  INFO 79611 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:16:53.809 DEBUG 79611 --- [restartedMain] o.h.stat.internal.StatisticsInitiator    : Statistics initialized [enabled=false]
2018-06-03 18:16:53.904 DEBUG 79611 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : QueryTranslatorFactory : org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory@1e589d1f
2018-06-03 18:16:53.904  INFO 79611 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-03 18:16:53.925 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:16:53.932 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:53.934 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'PriceInfo'
    |  |     \-[ALIAS] Node: 'p'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'p'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[EQ] Node: '='
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'p'
          |  |  \-[IDENT] Node: 'status'
          |  \-[QUOTED_STRING] Node: ''ACTIVE''
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'p'
             |  \-[IDENT] Node: 'rolloutStatus'
             \-[QUOTED_STRING] Node: ''PENDING''

2018-06-03 18:16:53.959 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:16:53.972 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.PriceInfo (p) -> priceinfo0_
2018-06-03 18:16:53.973 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:16:53.976 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:16:53.977 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:53.978 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.status -> priceinfo0_.status
2018-06-03 18:16:53.979 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:16:53.979 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : rolloutStatus -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:53.979 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.rolloutStatus -> priceinfo0_.rollout_status
2018-06-03 18:16:53.979 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:16:53.979 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} priceinfo0_.price_id ) ( FromClause{level=1} price_info priceinfo0_ ) ( where ( and ( = ( priceinfo0_.status priceinfo0_.price_id status ) 'ACTIVE' ) ( = ( priceinfo0_.rollout_status priceinfo0_.price_id rolloutStatus ) 'PENDING' ) ) ) )
2018-06-03 18:16:53.987 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [price_info priceinfo0_]
2018-06-03 18:16:53.987 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:16:53.987 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (price_info)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id as price_id1_2_' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
    |  \-[SQL_TOKEN] SqlFragment: 'priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[p], fromElementByTableAlias=[priceinfo0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'price_info priceinfo0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=p,role=null,tableName=price_info,tableAlias=priceinfo0_,origin=null,columns={,className=my.payments.app.dao.PriceInfo}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'priceinfo0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=p.status,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
          |  |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
          |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'priceinfo0_.rollout_status' {propertyName=rolloutStatus,dereferenceType=PRIMITIVE,getPropertyPath=rolloutStatus,path=p.rolloutStatus,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
             |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
             |  \-[IDENT] IdentNode: 'rolloutStatus' {originalText=rolloutStatus}
             \-[QUOTED_STRING] LiteralNode: ''PENDING''

2018-06-03 18:16:53.987 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:53.994 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:16:53.994 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:16:53.994 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.029 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:16:54.030 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.031 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'c'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:16:54.031 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:16:54.031 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.032 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} customer0_.email ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:16:54.034 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:16:54.035 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'customer0_.email as email1_0_' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  \-[SQL_TOKEN] SqlFragment: 'customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@5ccefa8b}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@5ccefa8b}

2018-06-03 18:16:54.035 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.035 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:16:54.035 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as email1_0_, customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:16:54.036 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.041 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:16:54.043 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.043 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[DOT] Node: '.'
    |        +-[IDENT] Node: 'c'
    |        \-[IDENT] Node: 'email'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:16:54.044 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:16:54.045 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : email -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.email -> customer0_.email
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.046 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:16:54.047 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:16:54.047 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@5ccefa8b
2018-06-03 18:16:54.047 DEBUG 79611 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:16:54.047 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:16:54.047 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} ( customer0_.email customer0_.email email ) ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:16:54.048 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:16:54.048 DEBUG 79611 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:16:54.048 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[DOT] DotNode: 'customer0_.email' {propertyName=email,dereferenceType=PRIMITIVE,getPropertyPath=email,path=c.email,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
    |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  |  \-[IDENT] IdentNode: 'email' {originalText=email}
    |  \-[SELECT_COLUMNS] SqlNode: ' as col_0_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@5ccefa8b}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@5ccefa8b}

2018-06-03 18:16:54.048 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.049 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:16:54.049 DEBUG 79611 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:16:54.049 DEBUG 79611 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:16:54.057  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processorThreshold
2018-06-03 18:16:54.058  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.availableProcessorCount
2018-06-03 18:16:54.058  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processingChunkSize
2018-06-03 18:16:54.058  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE
2018-06-03 18:16:54.058  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_NOTIFY_PRICE_UPDATE
2018-06-03 18:16:54.058  WARN 79611 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE_ACK
2018-06-03 18:16:54.179 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:16:54.179 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:16:54.179 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:16:54.179 DEBUG 79611 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:16:54.184 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:16:54.184 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:16:54.184 DEBUG 79611 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:16:54.185 DEBUG 79611 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom MessageInterpolator of type org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator
2018-06-03 18:16:54.185 DEBUG 79611 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ConstraintValidatorFactory of type org.springframework.validation.beanvalidation.SpringConstraintValidatorFactory
2018-06-03 18:16:54.185 DEBUG 79611 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ParameterNameProvider of type org.springframework.validation.beanvalidation.LocalValidatorFactoryBean$1
2018-06-03 18:16:54.186 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:16:54.186 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via user class loader
2018-06-03 18:16:54.186 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:16:54.187 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:16:54.187 DEBUG 79611 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:16:54.190 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:16:54.190 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:16:54.190 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:16:54.190 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:16:54.190 DEBUG 79611 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:16:54.544  WARN 79611 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-03 18:16:54.695  INFO 79611 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2018-06-03 18:16:54.981  WARN 79611 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2018-06-03 18:16:55.034  INFO 79611 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-06-03 18:16:55.036  INFO 79611 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-06-03 18:16:55.043  INFO 79611 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-06-03 18:16:55.048  INFO 79611 --- [restartedMain] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-06-03 18:16:55.334  INFO 79611 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Using Persistence Adapter: MemoryPersistenceAdapter
2018-06-03 18:16:55.376  INFO 79611 --- [JMX connector] o.a.a.broker.jmx.ManagementContext       : JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2018-06-03 18:16:55.486  INFO 79611 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55164-1528075015355-0:1) is starting
2018-06-03 18:16:55.490  INFO 79611 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55164-1528075015355-0:1) started
2018-06-03 18:16:55.490  INFO 79611 --- [restartedMain] o.apache.activemq.broker.BrokerService   : For help or more information please see: http://activemq.apache.org
2018-06-03 18:16:55.513  INFO 79611 --- [restartedMain] o.a.activemq.broker.TransportConnector   : Connector vm://localhost started
2018-06-03 18:16:55.605  INFO 79611 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-06-03 18:16:55.610  INFO 79611 --- [restartedMain] my.payments.app.MainPaymentApp           : Started MainPaymentApp in 5.728 seconds (JVM running for 6.207)
2018-06-03 18:17:14.254  INFO 79611 --- [http-nio-8080-exec-10] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-06-03 18:17:14.349  INFO 79611 --- [http-nio-8080-exec-10] m.p.app.controller.PriceInfoController   : Received price update: Plan Code: 1S
Country Code: 1
Price: 15.0
Status: null
Rollout Status: null
2018-06-03 18:17:14.361 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:14.378 DEBUG 79611 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : call next value for price_info_sequence_id
2018-06-03 18:17:14.391 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.id.enhanced.SequenceStructure        : Sequence value obtained: 5
2018-06-03 18:17:14.392 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:14.394 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 5, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator
2018-06-03 18:17:14.410 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:14.411 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:14.412 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:14.414 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2018-06-03 18:17:14.414 DEBUG 79611 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:14.415 DEBUG 79611 --- [http-nio-8080-exec-10] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:14.415 DEBUG 79611 --- [http-nio-8080-exec-10] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.PriceInfo{rolloutStatus=PENDING, countryCode=1, price=15.0, priceId=5, effectiveDate=null, planCode=1S, status=ACTIVE}
2018-06-03 18:17:14.425 DEBUG 79611 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:17:14.430  INFO 79611 --- [http-nio-8080-exec-10] m.p.app.controller.PriceInfoController   : Saved price update to DB: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:17:26.005  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Calling price checker ...
2018-06-03 18:17:26.005  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Start... checkForPriceUpdates
2018-06-03 18:17:26.018 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:17:26.019 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:26.021 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.PriceInfo#5]
2018-06-03 18:17:26.025 DEBUG 79611 --- [http-nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:17:26.025 DEBUG 79611 --- [http-nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:17:26.027  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of price updates to process = 1
2018-06-03 18:17:26.027  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Processing priceUpdate: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:17:26.035 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 1
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 2
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 3
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 4
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 5
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 6
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 7
2018-06-03 18:17:26.036 DEBUG 79611 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:17:26.037  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of customers affected = 8
2018-06-03 18:17:26.037  INFO 79611 --- [http-nio-8080-exec-2] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:17:26.037  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of processors to start = 1
2018-06-03 18:17:26.037  INFO 79611 --- [http-nio-8080-exec-2] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:17:26.037  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 0
2018-06-03 18:17:26.053  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=0, end=2
2018-06-03 18:17:26.053  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 2
2018-06-03 18:17:26.060  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=2, end=4
2018-06-03 18:17:26.061  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 4
2018-06-03 18:17:26.067  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=4, end=6
2018-06-03 18:17:26.067  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 6
2018-06-03 18:17:26.077  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=6, end=8
2018-06-03 18:17:26.077  INFO 79611 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : checkForPriceUpdates ... done
2018-06-03 18:17:26.087  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [sangeetha@demo.com, kumar@demo.com]
2018-06-03 18:17:26.091 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.098 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.102 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.104 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.106 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:26.106 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:26.106 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.107 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:26.107 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.107  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: sangeetha@demo.com
2018-06-03 18:17:26.110  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: sangeetha@demo.com
2018-06-03 18:17:26.112 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.112 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.113 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.113 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.114 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:26.114 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:26.114 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.114 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:26.114 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.115  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: kumar@demo.com
2018-06-03 18:17:26.118  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: kumar@demo.com
2018-06-03 18:17:26.126  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [tarun@demo.com, thuy@demo.com]
2018-06-03 18:17:26.127 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.127 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.128 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.128 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.129 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:26.129 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:26.129 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.129 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:17:26.129 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.131  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: tarun@demo.com
2018-06-03 18:17:26.133  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: sangeetha@demo.com: Hello Sangeetha,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.553
2018-06-03 18:17:26.133  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: tarun@demo.com
2018-06-03 18:17:26.134 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.134 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.134 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.134 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.135 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:17:26.136 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:17:26.136 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.136 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#thuy@demo.com
2018-06-03 18:17:26.136 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.137  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: thuy@demo.com
2018-06-03 18:17:26.138  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: thuy@demo.com
2018-06-03 18:17:26.143  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [alex@demo.com, jerry@demo.com]
2018-06-03 18:17:26.144 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.145 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.146 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.146 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.147 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:17:26.147 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:17:26.147 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.147 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#alex@demo.com
2018-06-03 18:17:26.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.148  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: alex@demo.com
2018-06-03 18:17:26.150  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: alex@demo.com
2018-06-03 18:17:26.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.151 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.151 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.152 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.152 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:17:26.153 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:17:26.153 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.153 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#jerry@demo.com
2018-06-03 18:17:26.153 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.154  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: jerry@demo.com
2018-06-03 18:17:26.155  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: jerry@demo.com
2018-06-03 18:17:26.157  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [bala@demo.com, monika@demo.com]
2018-06-03 18:17:26.158 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.158 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.159 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.159 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.160 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:17:26.160 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:17:26.160 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.161 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#bala@demo.com
2018-06-03 18:17:26.161 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.162  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: bala@demo.com
2018-06-03 18:17:26.163  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: bala@demo.com
2018-06-03 18:17:26.164 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:26.165 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:26.165 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:26.165 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:26.166 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:17:26.166 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:17:26.166 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:26.166 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#monika@demo.com
2018-06-03 18:17:26.166 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:26.167  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: monika@demo.com
2018-06-03 18:17:26.170  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: monika@demo.com
2018-06-03 18:17:27.138  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: sangeetha@demo.com
2018-06-03 18:17:27.141  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: kumar@demo.com: Hello Kumar,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.554
2018-06-03 18:17:27.142  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:27.142 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:27.142 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:27.143 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:27.144  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:27.144 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:27.146 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.DefaultMergeEventListener        : EntityCopyObserver strategy: disallow
2018-06-03 18:17:27.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:27.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:27.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.148 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.149 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:27.149 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:27.149 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:27.149 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:27.149 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:27.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:27.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:27.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:27.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:27.150 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:27.157 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:27.158  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:27.158 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:27.160 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:27.160 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:27.161 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:27.162 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:27.167  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:28.146  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: kumar@demo.com
2018-06-03 18:17:28.149  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: tarun@demo.com: Hello Tarun,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.555
2018-06-03 18:17:28.167  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:28.167 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:28.167 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:28.168 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:28.169  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:28.169 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:28.169 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.169 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:28.169 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:28.169 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:28.170 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:28.171 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:28.172 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:28.172  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:28.172 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:28.173 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:28.173 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:28.173 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:28.174 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:28.175  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:29.151  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: tarun@demo.com
2018-06-03 18:17:29.153  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: thuy@demo.com: Hello Thuy,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.556
2018-06-03 18:17:29.175  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:29.175 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.176 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:29.177 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:29.177 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:29.177  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:29.177 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:29.177 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.177 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:29.178 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:29.179 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:29.179 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:29.179 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:29.179 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:29.179 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:29.180 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:29.181  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:29.181 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:29.182 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:29.182 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:29.183 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:29.184 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:29.185  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:30.155  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: thuy@demo.com
2018-06-03 18:17:30.156  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: alex@demo.com: Hello Alex,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.556
2018-06-03 18:17:30.187  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:30.187 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:30.188 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:30.188 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:30.188 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:30.189 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.189 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.189 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:30.189 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:30.189 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:30.189  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:30.190 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:30.190 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.190 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:30.190 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:30.190 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:30.191 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:30.192 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:30.192 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:30.192 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:30.193 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:30.194  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:30.194 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:30.194 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:30.195 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:30.196 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:30.196 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:30.199  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:31.159  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: alex@demo.com
2018-06-03 18:17:31.160  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: jerry@demo.com: Hello Jerry,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.557
2018-06-03 18:17:31.198  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:31.198 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:31.199 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:31.199 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:31.199 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:31.200 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.200 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.200 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:31.200 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:31.200 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:31.200  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:31.201 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:31.201 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.201 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:31.201 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:31.201 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:31.202 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:31.203 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:31.203 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:31.204 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:31.205  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:31.205 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:31.205 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:31.206 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:31.206 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:31.207 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:31.209  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:32.165  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: jerry@demo.com
2018-06-03 18:17:32.167  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: bala@demo.com: Hello Bala,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.558
2018-06-03 18:17:32.209  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:32.210 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:32.210 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:32.210 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:32.210 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:32.211 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.211 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.211 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:32.211 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:32.211 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:32.211  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:32.212 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:32.212 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.212 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:32.212 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:32.212 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:32.213 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:32.215 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:32.215  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:32.215 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:32.216 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:32.217 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:32.217 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:32.218 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:32.219  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:33.170  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: bala@demo.com
2018-06-03 18:17:33.171  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: monika@demo.com: Hello Monika,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:16:52.559
2018-06-03 18:17:33.222  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:17:33.223 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:33.223 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:33.224 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:17:33.225 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:33.225  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:17:33.225 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:33.226 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.553, priceId=null, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:16:52.553, status=ACTIVE}
2018-06-03 18:17:33.227 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:33.228 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.229  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:33.229 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:33.230 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.231 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:33.231 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.232 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:33.235  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:33.237  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:33.238 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:33.239 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:33.239 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:33.239 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:33.240  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:33.240 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:33.241 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:33.242 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:33.243 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.244  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:33.244 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:33.244 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.245 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:33.245 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:33.246 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:33.247  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:34.172  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: monika@demo.com
2018-06-03 18:17:34.248  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:34.248 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:34.248 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:34.248 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:34.248 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:34.249  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:34.249 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:34.250 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:34.251 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:34.251 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:34.252 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:34.253  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:34.253 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:34.254 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:34.254 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:34.255 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:34.255 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:34.257  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:35.257  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:35.257 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:35.257 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:35.258 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:35.258  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:35.259 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:35.260 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:35.261 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:35.262  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:35.262 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:35.263 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:35.263 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:35.264 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:35.265 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:35.266  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:36.266  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:36.266 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:36.266 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:36.267 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:36.268  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:36.268 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:36.269 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.269 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:36.269 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:36.269 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.269 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:36.270 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:36.272 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:36.272  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:36.272 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:36.273 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:36.274 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:36.274 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:36.275 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:36.277  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:37.280  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:37.281 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:37.282 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:37.283 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:37.283 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:37.283 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.283 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.284 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:37.284 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:37.284 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:37.285  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:37.285 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:37.285 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.285 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:37.285 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:37.286 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.286 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.286 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:37.286 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:37.286 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:37.288 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:37.290 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:37.291  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:37.291 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:37.291 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:37.292 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:37.293 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:37.293 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:37.295  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:38.298  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:38.299 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:38.299 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:38.299 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:38.299 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:38.300 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.300 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.300 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:38.300 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:38.300 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:38.300  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:38.301 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:38.302 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:38.303 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:38.304  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:38.304 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:38.305 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:38.305 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:38.306 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:38.307 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:38.308  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:39.311  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:17:39.312 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:39.312 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:39.312 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:39.312 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:39.313 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.313 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.313 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:39.313 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:17:39.313 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:39.313  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:17:39.326 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:39.326 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.327 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:39.327 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:39.327 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.328 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:39.329 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.554, priceId=null, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:16:52.554, status=ACTIVE}
2018-06-03 18:17:39.330 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:39.331 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.331  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:39.331 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:39.332 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.332 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:39.332 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.333 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:39.334  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:39.335  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: tarun@demo.com
2018-06-03 18:17:39.335 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:39.335 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:39.335 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:39.335 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:39.336  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: tarun@demo.com, priceId 1
2018-06-03 18:17:39.336 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.337 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.555, priceId=null, email=tarun@demo.com, customerName=Tarun, planCode=1S, nextBilldate=2018-06-03 18:16:52.555, status=ACTIVE}
2018-06-03 18:17:39.338 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:39.339 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.339  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:39.339 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:39.340 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.340 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:39.341 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:39.341 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:39.343  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:40.347  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: tarun@demo.com
2018-06-03 18:17:40.347 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:17:40.348 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:40.348  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: tarun@demo.com, priceId 1
2018-06-03 18:17:40.349 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.350 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.555, priceId=null, email=tarun@demo.com, customerName=Tarun, planCode=1S, nextBilldate=2018-06-03 18:16:52.555, status=ACTIVE}
2018-06-03 18:17:40.351 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:40.352 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:40.352  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:40.352 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:40.353 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:40.353 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:40.354 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:40.354 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:40.355  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 34 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 52 common frames omitted

2018-06-03 18:17:41.358  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: tarun@demo.com
2018-06-03 18:17:41.358 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:41.358 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:17:41.359 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:41.360  INFO 79611 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: tarun@demo.com, priceId 1
2018-06-03 18:17:41.360 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:17:41.360 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.360 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:17:41.361 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:16:52.555, priceId=null, email=tarun@demo.com, customerName=Tarun, planCode=1S, nextBilldate=2018-06-03 18:16:52.555, status=ACTIVE}
2018-06-03 18:17:41.362 DEBUG 79611 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:17:41.363 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not execute statement [n/a]

org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:41.363  WARN 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2018-06-03 18:17:41.363 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
2018-06-03 18:17:41.364 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.setRollbackOnly(TransactionImpl.java:143) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.Transaction.markRollbackOnly(Transaction.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:364) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.handlePersistenceException(ExceptionConverterImpl.java:273) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:150) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1443) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:41.364 ERROR 79611 --- [DefaultMessageListenerContainer-1] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-06-03 18:17:41.365 DEBUG 79611 --- [DefaultMessageListenerContainer-1] cResourceLocalTransactionCoordinatorImpl : JDBC transaction marked for rollback-only (exception provided for stack trace)

java.lang.Exception: exception just for purpose of providing stack trace
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:271) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:165) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) [hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) [spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) [spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) [spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) [spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) [na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) [classes/:na]
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) [spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2018-06-03 18:17:41.365 DEBUG 79611 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : rollback() called on an inactive transaction
2018-06-03 18:17:41.367  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Execution of JMS message listener failed, and no ErrorHandler has been set.

org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method 'public void my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(my.payments.app.pojo.PriceChangeNotificationMsg)' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:122) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1189) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1179) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1076) [spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:225) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:540) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135) ~[spring-data-jpa-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.sun.proxy.$Proxy93.save(Unknown Source) ~[na:na]
	at my.payments.app.worker.PriceChangeAckReceiver.receiveAcknowledgement(PriceChangeAckReceiver.java:35) ~[classes/:na]
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114) ~[spring-messaging-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114) ~[spring-jms-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 10 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3217) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3090) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3491) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:145) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:600) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:474) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:494) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3245) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2451) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536) ~[spring-orm-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	... 33 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: NULL not allowed for column "PRICE_ID"; SQL statement:
update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=? [23502-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:374) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.validateConvertUpdateSequence(Table.java:798) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.dml.Update.update(Update.java:157) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153) ~[h2-1.4.197.jar:1.4.197]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]
	... 51 common frames omitted

2018-06-03 18:17:41.378  INFO 79611 --- [Thread-11] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@68a5d577: startup date [Sun Jun 03 18:16:50 PDT 2018]; root of context hierarchy
2018-06-03 18:17:41.379  INFO 79611 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55164-1528075015355-0:1) is shutting down
2018-06-03 18:17:41.382  INFO 79611 --- [Thread-11] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-06-03 18:17:41.388  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdatenotify' - trying to recover. Cause: peer (vm://localhost#3) stopped.
2018-06-03 18:17:41.388  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdate' - trying to recover. Cause: peer (vm://localhost#1) stopped.
2018-06-03 18:17:41.389  INFO 79611 --- [ActiveMQ ShutdownHook] o.a.activemq.broker.TransportConnector   : Connector vm://localhost stopped
2018-06-03 18:17:41.390  WARN 79611 --- [DefaultMessageListenerContainer-1] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'priceupdateack' - trying to recover. Cause: peer (vm://localhost#5) stopped.
2018-06-03 18:17:41.390  INFO 79611 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-06-03 18:17:41.391  INFO 79611 --- [Thread-11] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-06-03 18:17:41.393  INFO 79611 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:17:41.394 DEBUG 79611 --- [Thread-11] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing
2018-06-03 18:17:41.394 DEBUG 79611 --- [Thread-11] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST] overrode base registration [STYLE_PERSIST_SKIPLAZY]
2018-06-03 18:17:41.394 DEBUG 79611 --- [Thread-11] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2018-06-03 18:17:41.394 DEBUG 79611 --- [Thread-11] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2018-06-03 18:17:41.396  WARN 79611 --- [Thread-11] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2018-06-03 18:17:41.396  INFO 79611 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-06-03 18:17:41.398  INFO 79611 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-06-03 18:17:41.401  INFO 79611 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55164-1528075015355-0:1) uptime 46.309 seconds
2018-06-03 18:17:41.401  INFO 79611 --- [ActiveMQ ShutdownHook] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55164-1528075015355-0:1) is shutdown
2018-06-03 18:18:34.749 DEBUG 79940 --- [background-preinit] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:18:34.756 DEBUG 79940 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:18:34.757 DEBUG 79940 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:18:34.757 DEBUG 79940 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:18:34.757 DEBUG 79940 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:18:34.758 DEBUG 79940 --- [background-preinit] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:18:34.803  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : Starting MainPaymentApp on SANGSWAM-M-14DM with PID 79940 (/Users/sangswam/Documents/NetflixApp/my-app1/target/classes started by sangswam in /Users/sangswam/Documents/NetflixApp/my-app1)
2018-06-03 18:18:34.804  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : No active profile set, falling back to default profiles: default
2018-06-03 18:18:34.910  INFO 79940 --- [restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78cf4119: startup date [Sun Jun 03 18:18:34 PDT 2018]; root of context hierarchy
2018-06-03 18:18:36.402  INFO 79940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bdb308de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-03 18:18:36.738  INFO 79940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-06-03 18:18:36.767  INFO 79940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-06-03 18:18:36.768  INFO 79940 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-06-03 18:18:36.777  INFO 79940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2018-06-03 18:18:36.858  INFO 79940 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-06-03 18:18:37.014  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-06-03 18:18:37.016  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet webServlet mapped to [/h2-console/*]
2018-06-03 18:18:37.021  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-06-03 18:18:37.022  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-06-03 18:18:37.022  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-06-03 18:18:37.022  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-06-03 18:18:37.190  INFO 79940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-06-03 18:18:37.356  INFO 79940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-06-03 18:18:37.373  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql]
2018-06-03 18:18:37.403  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql] in 29 ms.
2018-06-03 18:18:37.405  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql]
2018-06-03 18:18:37.434  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql] in 28 ms.
2018-06-03 18:18:37.565  INFO 79940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-03 18:18:37.586 DEBUG 79940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : PersistenceUnitInfo [
	name: default
	persistence provider classname: null
	classloader: org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4f5d283d
	excludeUnlistedClasses: true
	JTA datasource: null
	Non JTA datasource: HikariDataSource (HikariPool-1)
	Transaction type: RESOURCE_LOCAL
	PU root URL: file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/
	Shared Cache Mode: UNSPECIFIED
	Validation Mode: AUTO
	Jar files URLs []
	Managed classes names [
		my.payments.app.dao.Customer
		my.payments.app.dao.Plan
		my.payments.app.dao.PriceInfo
		my.payments.app.controller
		my.payments.app.dao
		my.payments.app.external
		my.payments.app
		my.payments.app.pojo
		my.payments.app.worker]
	Mapping files names []
	Properties []
2018-06-03 18:18:37.607 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2018-06-03 18:18:37.609 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2018-06-03 18:18:37.612 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2018-06-03 18:18:37.613 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.jpa.event.spi.JpaIntegrator].
2018-06-03 18:18:37.678  INFO 79940 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2018-06-03 18:18:37.679  INFO 79940 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2018-06-03 18:18:37.694 DEBUG 79940 --- [restartedMain] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2018-06-03 18:18:37.718 DEBUG 79940 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2018-06-03 18:18:37.727  INFO 79940 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-06-03 18:18:37.787 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:18:37.787 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:18:37.788 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:18:37.789 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@1467e25a
2018-06-03 18:18:37.790 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration true_false -> org.hibernate.type.TrueFalseType@4ead7653
2018-06-03 18:18:37.791 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration yes_no -> org.hibernate.type.YesNoType@5e1d78
2018-06-03 18:18:37.793 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:18:37.793 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:18:37.793 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:18:37.795 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration character -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:18:37.795 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:18:37.795 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:18:37.796 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:18:37.797 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:18:37.797 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:18:37.799 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration integer -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:18:37.799 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration int -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:18:37.799 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:18:37.801 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:18:37.801 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:18:37.801 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:18:37.803 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:18:37.803 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:18:37.803 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:18:37.805 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:18:37.806 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:18:37.806 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:18:37.808 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@fed19bb
2018-06-03 18:18:37.808 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@fed19bb
2018-06-03 18:18:37.810 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_integer -> org.hibernate.type.BigIntegerType@790e3637
2018-06-03 18:18:37.810 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@790e3637
2018-06-03 18:18:37.812 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration string -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:37.812 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.String -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:37.813 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nstring -> org.hibernate.type.StringNVarcharType@3e70fdd5
2018-06-03 18:18:37.814 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@69763380
2018-06-03 18:18:37.815 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration url -> org.hibernate.type.UrlType@53d1028b
2018-06-03 18:18:37.815 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.net.URL -> org.hibernate.type.UrlType@53d1028b
2018-06-03 18:18:37.817 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Duration -> org.hibernate.type.DurationType@25dd875b
2018-06-03 18:18:37.817 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Duration -> org.hibernate.type.DurationType@25dd875b
2018-06-03 18:18:37.818 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Instant -> org.hibernate.type.InstantType@370c6d68
2018-06-03 18:18:37.819 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Instant -> org.hibernate.type.InstantType@370c6d68
2018-06-03 18:18:37.820 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDateTime -> org.hibernate.type.LocalDateTimeType@33cbd198
2018-06-03 18:18:37.821 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDateTime -> org.hibernate.type.LocalDateTimeType@33cbd198
2018-06-03 18:18:37.823 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDate -> org.hibernate.type.LocalDateType@16d939af
2018-06-03 18:18:37.823 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDate -> org.hibernate.type.LocalDateType@16d939af
2018-06-03 18:18:37.824 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalTime -> org.hibernate.type.LocalTimeType@116d6c47
2018-06-03 18:18:37.825 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalTime -> org.hibernate.type.LocalTimeType@116d6c47
2018-06-03 18:18:37.826 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4e54e8d
2018-06-03 18:18:37.826 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4e54e8d
2018-06-03 18:18:37.827 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetTime -> org.hibernate.type.OffsetTimeType@3b9d98b3
2018-06-03 18:18:37.827 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetTime -> org.hibernate.type.OffsetTimeType@3b9d98b3
2018-06-03 18:18:37.830 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@126921e0
2018-06-03 18:18:37.830 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@126921e0
2018-06-03 18:18:37.832 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration date -> org.hibernate.type.DateType@40c3aafe
2018-06-03 18:18:37.832 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Date -> org.hibernate.type.DateType@40c3aafe
2018-06-03 18:18:37.833 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration time -> org.hibernate.type.TimeType@5c42ab45
2018-06-03 18:18:37.833 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Time -> org.hibernate.type.TimeType@5c42ab45
2018-06-03 18:18:37.834 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timestamp -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:18:37.834 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:18:37.834 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Date -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:18:37.835 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@4a1d7b72
2018-06-03 18:18:37.837 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:18:37.837 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:18:37.837 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:18:37.838 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@7c2fb541
2018-06-03 18:18:37.840 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration locale -> org.hibernate.type.LocaleType@78293c88
2018-06-03 18:18:37.840 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@78293c88
2018-06-03 18:18:37.841 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration currency -> org.hibernate.type.CurrencyType@36f32f40
2018-06-03 18:18:37.842 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@36f32f40
2018-06-03 18:18:37.843 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timezone -> org.hibernate.type.TimeZoneType@714edf6
2018-06-03 18:18:37.843 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@714edf6
2018-06-03 18:18:37.844 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration class -> org.hibernate.type.ClassType@2bc0f6d6
2018-06-03 18:18:37.845 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Class -> org.hibernate.type.ClassType@2bc0f6d6
2018-06-03 18:18:37.847 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@5ffcb9ad
2018-06-03 18:18:37.847 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@5ffcb9ad
2018-06-03 18:18:37.848 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@b40d17e
2018-06-03 18:18:37.850 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration binary -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:18:37.850 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte[] -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:18:37.850 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [B -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:18:37.852 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:18:37.852 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:18:37.852 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:18:37.854 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration row_version -> org.hibernate.type.RowVersionType@37015488
2018-06-03 18:18:37.855 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration image -> org.hibernate.type.ImageType@77fad396
2018-06-03 18:18:37.856 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration characters -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:18:37.857 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char[] -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:18:37.857 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [C -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:18:37.858 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:18:37.858 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:18:37.858 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:18:37.859 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration text -> org.hibernate.type.TextType@2fef5e03
2018-06-03 18:18:37.860 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ntext -> org.hibernate.type.NTextType@9a60d4f
2018-06-03 18:18:37.864 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration blob -> org.hibernate.type.BlobType@6bc8ed73
2018-06-03 18:18:37.864 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@6bc8ed73
2018-06-03 18:18:37.864 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@4a2e001
2018-06-03 18:18:37.867 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration clob -> org.hibernate.type.ClobType@3632423f
2018-06-03 18:18:37.867 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@3632423f
2018-06-03 18:18:37.870 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nclob -> org.hibernate.type.NClobType@574f359f
2018-06-03 18:18:37.870 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@574f359f
2018-06-03 18:18:37.871 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@439b58a
2018-06-03 18:18:37.871 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@13b9d9ab
2018-06-03 18:18:37.873 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration serializable -> org.hibernate.type.SerializableType@5bbf354b
2018-06-03 18:18:37.877 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration object -> org.hibernate.type.ObjectType@5f204bc0
2018-06-03 18:18:37.877 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@5f204bc0
2018-06-03 18:18:37.877 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@926a9e3
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@54059d4c
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@333958e1
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@5d2e316f
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@617bf298
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@19ecfc06
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@606b418a
2018-06-03 18:18:37.878 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@4c62b1a1
2018-06-03 18:18:37.888 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Database ->
       name : H2
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:18:37.888 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Driver ->
       name : H2 JDBC Driver
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:18:37.889 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : JDBC version : 4.0
2018-06-03 18:18:37.900  INFO 79940 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-03 18:18:37.976 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2018-06-03 18:18:37.977 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2018-06-03 18:18:37.978 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:18:37.978 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:18:37.978 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2018-06-03 18:18:37.979 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2018-06-03 18:18:37.981 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2018-06-03 18:18:37.982 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:18:37.983 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2018-06-03 18:18:37.984 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2018-06-03 18:18:37.985 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2018-06-03 18:18:37.985 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2018-06-03 18:18:37.985 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:18:37.986 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2018-06-03 18:18:38.021 DEBUG 79940 --- [restartedMain] o.h.boot.model.relational.Namespace      : Created database namespace [logicalName=Name{catalog=null, schema=null}, physicalName=Name{catalog=null, schema=null}]
2018-06-03 18:18:38.059 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.PriceInfo
2018-06-03 18:18:38.071 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:18:38.078 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name PriceInfo
2018-06-03 18:18:38.085 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.PriceInfo on table price_info
2018-06-03 18:18:38.108 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.111 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:18:38.113 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:priceId]
2018-06-03 18:18:38.114 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:18:38.116 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:countryCode]
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:18:38.121 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=effective_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property effectiveDate with lazy=false
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:effectiveDate]
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for effectiveDate
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property effectiveDate
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:planCode]
2018-06-03 18:18:38.122 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=price, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property price with lazy=false
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:price]
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for price
2018-06-03 18:18:38.123 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property price
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=rollout_status, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property rolloutStatus with lazy=false
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:rolloutStatus]
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for rolloutStatus
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property rolloutStatus
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(price_info), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:18:38.124 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.PriceInfo:status]
2018-06-03 18:18:38.125 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:18:38.125 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:18:38.126 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Customer
2018-06-03 18:18:38.126 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:18:38.126 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Customer
2018-06-03 18:18:38.126 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Customer on table customer
2018-06-03 18:18:38.127 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=email, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.128 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property email with lazy=false
2018-06-03 18:18:38.128 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:email]
2018-06-03 18:18:38.128 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for email
2018-06-03 18:18:38.128 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property email
2018-06-03 18:18:38.128 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=country_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property countryCode with lazy=false
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:countryCode]
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for countryCode
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property countryCode
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=customer_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.129 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property customerName with lazy=false
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:customerName]
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for customerName
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property customerName
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=next_billdate, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property nextBilldate with lazy=false
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:nextBilldate]
2018-06-03 18:18:38.130 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for nextBilldate
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property nextBilldate
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=onboard_date, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property onboardDate with lazy=false
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:onboardDate]
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for onboardDate
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property onboardDate
2018-06-03 18:18:38.131 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:planCode]
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=price_id, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property priceId with lazy=false
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:priceId]
2018-06-03 18:18:38.132 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for priceId
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property priceId
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(customer), mappingColumn=status, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property status with lazy=false
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Customer:status]
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for status
2018-06-03 18:18:38.133 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property status
2018-06-03 18:18:38.134 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.AnnotationBinder       : Binding entity from annotated class: my.payments.app.dao.Plan
2018-06-03 18:18:38.134 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2018-06-03 18:18:38.134 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Import with entity name Plan
2018-06-03 18:18:38.134 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.EntityBinder         : Bind entity my.payments.app.dao.Plan on table plan
2018-06-03 18:18:38.135 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_code, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.135 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planCode with lazy=false
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planCode]
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planCode
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planCode
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Ejb3Column             : Binding column: Ejb3Column{table=org.hibernate.mapping.Table(plan), mappingColumn=plan_name, insertable=true, updatable=true, unique=false}
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : MetadataSourceProcessor property planName with lazy=false
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.hibernate.cfg.AbstractPropertyHolder   : Attempting to locate auto-apply AttributeConverter for property [my.payments.app.dao.Plan:planName]
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : building SimpleValue for planName
2018-06-03 18:18:38.136 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.PropertyBinder       : Building property planName
2018-06-03 18:18:38.137 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for effectiveDate
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for price
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for rolloutStatus
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for email
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for countryCode
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for customerName
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for nextBilldate
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for onboardDate
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for priceId
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for status
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planCode
2018-06-03 18:18:38.138 DEBUG 79940 --- [restartedMain] o.h.cfg.annotations.SimpleValueBinder    : Starting fillSimpleValue for planName
2018-06-03 18:18:38.140 DEBUG 79940 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [price_id] to be non-null as it is part of the primary key for table [price_info]
2018-06-03 18:18:38.140 DEBUG 79940 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [email] to be non-null as it is part of the primary key for table [customer]
2018-06-03 18:18:38.141 DEBUG 79940 --- [restartedMain] org.hibernate.mapping.PrimaryKey         : Forcing column [plan_code] to be non-null as it is part of the primary key for table [plan]
2018-06-03 18:18:38.183 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Building session factory
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : SessionFactory name : null
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic flush during beforeCompletion(): enabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic session close at end of transaction: disabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Statistics: disabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Deleted entity synthetic identifier rollback: disabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default entity-mode: pojo
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Allow initialization of lazy state outside session : disabled
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Using BatchFetchStyle : LEGACY
2018-06-03 18:18:38.184 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default batch fetch size: -1
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Maximum outer join fetch depth: null
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default null ordering: NONE
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL updates by primary key: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL inserts for batching: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : multi-tenancy strategy : NONE
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JTA Track by Thread: enabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Query language substitutions: {}
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JPA query language strict compliance: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Named query checking : enabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache factory: null
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache region prefix: null
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Optimize second-level cache for minimal puts: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Structured second-level cache entries: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache direct-reference entries: disabled
2018-06-03 18:18:38.185 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic eviction of collection cache: disabled
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch size: 15
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch updates for versioned data: enabled
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Scrollable result sets: enabled
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Wrap result sets: disabled
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC3 getGeneratedKeys(): enabled
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC result set fetch size: null
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Connection release mode: ON_CLOSE
2018-06-03 18:18:38.186 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Generate SQL with comments: disabled
2018-06-03 18:18:38.239 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Session factory constructed with filter configurations : {}
2018-06-03 18:18:38.239 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiating session factory with properties: {gopherProxySet=false, awt.toolkit=sun.lwawt.macosx.LWCToolkit, hibernate.id.new_generator_mappings=true, file.encoding.pkg=sun.io, java.specification.version=1.8, sun.cpu.isalist=, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, sun.jnu.encoding=UTF-8, hibernate.dialect=org.hibernate.dialect.H2Dialect, hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy, java.class.path=/Users/sangswam/Documents/NetflixApp/my-app1/target/classes:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.0.2.RELEASE/spring-boot-starter-thymeleaf-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf-spring5/3.0.9.RELEASE/thymeleaf-spring5-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf/3.0.9.RELEASE/thymeleaf-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/attoparser/attoparser/2.0.4.RELEASE/attoparser-2.0.4.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/unbescape/unbescape/1.1.5.RELEASE/unbescape-1.1.5.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.1.RELEASE/thymeleaf-extras-java8time-3.0.1.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-devtools/2.0.2.RELEASE/spring-boot-devtools-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/h2database/h2/1.4.197/h2-1.4.197.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-activemq/2.0.2.RELEASE/spring-boot-starter-activemq-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jms/5.0.6.RELEASE/spring-jms-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-messaging/5.0.6.RELEASE/spring-messaging-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/jms/javax.jms-api/2.0.1/javax.jms-api-2.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-broker/5.15.3/activemq-broker-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-client/5.15.3/activemq-client-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-jms_1.1_spec/1.1.1/geronimo-jms_1.1_spec-1.1.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/fusesource/hawtbuf/hawtbuf/1.11/hawtbuf-1.11.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-j2ee-management_1.1_spec/1.0.1/geronimo-j2ee-management_1.1_spec-1.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-openwire-legacy/5.15.3/activemq-openwire-legacy-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, catalina.useNaming=false, java.vendor.url=http://java.oracle.com/, user.timezone=America/Los_Angeles, os.name=Mac OS X, java.vm.specification.version=1.8, javax.persistence.validation.mode=AUTO, sun.java.launcher=SUN_STANDARD, user.country=US, sun.boot.library.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib, sun.java.command=my.payments.app.MainPaymentApp, hibernate.transaction.jta.platform=org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform@7fe6d5dd, http.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, javax.persistence.sharedCache.mode=UNSPECIFIED, sun.cpu.endian=little, user.home=/Users/sangswam, user.language=en, java.specification.vendor=Oracle Corporation, java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre, file.separator=/, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, java.awt.graphicsenv=sun.awt.CGraphicsEnvironment, java.awt.headless=true, sun.boot.class.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/sunrsasign.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/classes, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, ftp.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, java.runtime.version=1.8.0_144-b01, user.name=sangswam, path.separator=:, os.version=10.12.6, java.endorsed.dirs=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, file.encoding=UTF-8, spring.beaninfo.ignore=true, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, LOG_FILE=logs/mylogfile.log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, java.io.tmpdir=/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/, com.zaxxer.hikari.pool_number=1, catalina.home=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.1490718247920634783.8080, java.version=1.8.0_144, hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy, user.dir=/Users/sangswam/Documents/NetflixApp/my-app1, os.arch=x86_64, PID=79940, java.vm.specification.name=Java Virtual Machine Specification, java.awt.printerjob=sun.lwawt.macosx.CPrinterJob, sun.os.patch.level=unknown, catalina.base=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.1490718247920634783.8080, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@4feb1d1, java.library.path=/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:., java.vendor=Oracle Corporation, java.vm.info=mixed mode, java.vm.version=25.144-b01, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariPool-1), sun.io.unicode.encoding=UnicodeBig, java.ext.dirs=/Users/sangswam/Library/Java/Extensions:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java, java.class.version=52.0, socksNonProxyHosts=local|*.local|169.254/16|*.169.254/16}
2018-06-03 18:18:38.258 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:18:38.258 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:18:38.259 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:18:38.259 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:18:38.259 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:18:38.259 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:18:38.259 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:18:38.263 DEBUG 79940 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:18:38.264 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:18:38.264 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:18:38.264 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:18:38.264 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:18:38.264 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:18:38.265 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:18:38.265 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:18:38.295 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:18:38.295 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:18:38.299 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:18:38.299 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:18:38.303 DEBUG 79940 --- [restartedMain] org.hibernate.secure.spi.JaccIntegrator  : Skipping JACC integration as it was not enabled
2018-06-03 18:18:38.306 DEBUG 79940 --- [restartedMain] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST_SKIPLAZY] overrode base registration [STYLE_PERSIST]
2018-06-03 18:18:38.318 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiated session factory
2018-06-03 18:18:38.351 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:18:38.351 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:18:38.359 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.PriceInfo] is safe
2018-06-03 18:18:38.359 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.PriceInfo
2018-06-03 18:18:38.385 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:18:38.385 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:18:38.385 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Customer] is safe
2018-06-03 18:18:38.385 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Customer
2018-06-03 18:18:38.389 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:18:38.390 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:18:38.390 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : Not known whether passed class name [my.payments.app.dao.Plan] is safe
2018-06-03 18:18:38.390 DEBUG 79940 --- [restartedMain] o.h.boot.internal.ClassLoaderAccessImpl  : No temp ClassLoader provided; using live ClassLoader for loading potentially unsafe class : my.payments.app.dao.Plan
2018-06-03 18:18:38.395 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.PriceInfo
2018-06-03 18:18:38.395 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select price_id from price_info where price_id =?
2018-06-03 18:18:38.395 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select priceinfo_.price_id, priceinfo_.country_code as country_2_2_, priceinfo_.effective_date as effectiv3_2_, priceinfo_.plan_code as plan_cod4_2_, priceinfo_.price as price5_2_, priceinfo_.rollout_status as rollout_6_2_, priceinfo_.status as status7_2_ from price_info priceinfo_ where priceinfo_.price_id=?
2018-06-03 18:18:38.395 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:18:38.395 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update price_info set country_code=?, effective_date=?, plan_code=?, price=?, rollout_status=?, status=? where price_id=?
2018-06-03 18:18:38.396 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from price_info where price_id=?
2018-06-03 18:18:38.419 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2d05262e]
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.420 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.431 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.434 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.436 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [NONE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6c1652fa]
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.437 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3bc51ba4]
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.438 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18c2593f]
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.439 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_NOWAIT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@12940db7]
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.440 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [UPGRADE_SKIPLOCKED]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3430c9cb]
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.441 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [FORCE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@790093a7]
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_READ]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@110f8f88]
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.442 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_WRITE]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@44a709cc]
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.443 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [PESSIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=? for update
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@33538b]
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c262b2e]
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : effectiveDate
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.444 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : price
2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : rolloutStatus
2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.PriceInfo)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.PriceInfo, querySpaceUid=<gen:0>, path=my.payments.app.dao.PriceInfo)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.PriceInfo)
          - SQL table alias mapping - priceinfo0_
          - alias suffix - 0_
          - suffixed key columns - {price_id1_2_0_}

2018-06-03 18:18:38.445 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.PriceInfo [OPTIMISTIC_FORCE_INCREMENT]: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.456 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.456 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.PriceInfo: select priceinfo0_.price_id as price_id1_2_0_, priceinfo0_.country_code as country_2_2_0_, priceinfo0_.effective_date as effectiv3_2_0_, priceinfo0_.plan_code as plan_cod4_2_0_, priceinfo0_.price as price5_2_0_, priceinfo0_.rollout_status as rollout_6_2_0_, priceinfo0_.status as status7_2_0_ from price_info priceinfo0_ where priceinfo0_.price_id=?
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Customer
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select email from customer where email =?
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select customer_.email, customer_.country_code as country_2_0_, customer_.customer_name as customer3_0_, customer_.next_billdate as next_bil4_0_, customer_.onboard_date as onboard_5_0_, customer_.plan_code as plan_cod6_0_, customer_.price_id as price_id7_0_, customer_.status as status8_0_ from customer customer_ where customer_.email=?
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into customer (country_code, customer_name, next_billdate, onboard_date, plan_code, price_id, status, email) values (?, ?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from customer where email=?
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3d403870]
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.457 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [NONE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f0afcbb]
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.458 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@11d0bb33]
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.459 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6975c9c5]
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.460 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_NOWAIT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2cfc9994]
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [UPGRADE_SKIPLOCKED]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3ab05280]
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.461 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [FORCE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47b8ecff]
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.462 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_READ]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@66c90262]
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_WRITE]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.463 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6efb191a]
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [PESSIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=? for update
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@35d4ce14]
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.464 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4bc49717]
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : countryCode
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : customerName
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : nextBilldate
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : onboardDate
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planCode
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : priceId
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : status
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.465 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Customer)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Customer, querySpaceUid=<gen:0>, path=my.payments.app.dao.Customer)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Customer)
          - SQL table alias mapping - customer0_
          - alias suffix - 0_
          - suffixed key columns - {email1_0_0_}

2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Customer [OPTIMISTIC_FORCE_INCREMENT]: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Customer: select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     : Static SQL for entity: my.payments.app.dao.Plan
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Version select: select plan_code from plan where plan_code =?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Snapshot select: select plan_.plan_code, plan_.plan_name as plan_nam2_1_ from plan plan_ where plan_.plan_code=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Insert 0: insert into plan (plan_name, plan_code) values (?, ?)
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Update 0: update plan set plan_name=? where plan_code=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.entity.AbstractEntityPersister     :  Delete 0: delete from plan where plan_code=?
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@43e0538a]
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.466 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [NONE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5ad7de88]
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@774eb72c]
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.467 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2045f48]
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.468 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_NOWAIT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@28d97ccb]
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [UPGRADE_SKIPLOCKED]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7149fb7d]
2018-06-03 18:18:38.469 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [FORCE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5a3aff03]
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.470 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_READ]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d68a49a]
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_WRITE]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@e511b13]
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.471 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [PESSIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=? for update
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@549fba6b]
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.l.p.b.i.spaces.QuerySpacesImpl       : Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2008da32]
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] o.h.p.walking.spi.MetamodelGraphWalker   : Visiting attribute path : planName
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] lanBuildingAssociationVisitationStrategy : Building LoadPlan...
2018-06-03 18:18:38.472 DEBUG 79940 --- [restartedMain] h.l.p.e.i.LoadQueryJoinAndFetchProcessor : processing queryspace <gen:0>
2018-06-03 18:18:38.473 DEBUG 79940 --- [restartedMain] o.h.l.p.build.spi.LoadPlanTreePrinter    : LoadPlan(entity=my.payments.app.dao.Plan)
    - Returns
       - EntityReturnImpl(entity=my.payments.app.dao.Plan, querySpaceUid=<gen:0>, path=my.payments.app.dao.Plan)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=my.payments.app.dao.Plan)
          - SQL table alias mapping - plan0_
          - alias suffix - 0_
          - suffixed key columns - {plan_cod1_1_0_}

2018-06-03 18:18:38.473 DEBUG 79940 --- [restartedMain] o.h.loader.entity.plan.EntityLoader      : Static select for entity my.payments.app.dao.Plan [OPTIMISTIC_FORCE_INCREMENT]: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.473 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_MERGE on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.473 DEBUG 79940 --- [restartedMain] org.hibernate.loader.Loader              : Static select for action ACTION_REFRESH on entity my.payments.app.dao.Plan: select plan0_.plan_code as plan_cod1_1_0_, plan0_.plan_name as plan_nam2_1_0_ from plan plan0_ where plan0_.plan_code=?
2018-06-03 18:18:38.491 DEBUG 79940 --- [restartedMain] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing
2018-06-03 18:18:38.492 DEBUG 79940 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named HQL queries
2018-06-03 18:18:38.492 DEBUG 79940 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named SQL queries
2018-06-03 18:18:38.493 DEBUG 79940 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@23000c4
2018-06-03 18:18:38.494 DEBUG 79940 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Registering SessionFactory: 73bf4405-b1c8-4880-879a-eedc2a9acbfa (<unnamed>)
2018-06-03 18:18:38.494 DEBUG 79940 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Not binding SessionFactory to JNDI, no JNDI name configured
2018-06-03 18:18:38.494  INFO 79940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:18:38.704 DEBUG 79940 --- [restartedMain] o.h.stat.internal.StatisticsInitiator    : Statistics initialized [enabled=false]
2018-06-03 18:18:38.805 DEBUG 79940 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : QueryTranslatorFactory : org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory@5b4bf30b
2018-06-03 18:18:38.805  INFO 79940 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-03 18:18:38.830 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:18:38.836 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.837 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'PriceInfo'
    |  |     \-[ALIAS] Node: 'p'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'p'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[EQ] Node: '='
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'p'
          |  |  \-[IDENT] Node: 'status'
          |  \-[QUOTED_STRING] Node: ''ACTIVE''
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'p'
             |  \-[IDENT] Node: 'rolloutStatus'
             \-[QUOTED_STRING] Node: ''PENDING''

2018-06-03 18:18:38.864 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:18:38.887 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.PriceInfo (p) -> priceinfo0_
2018-06-03 18:18:38.889 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:18:38.894 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:18:38.896 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.897 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.status -> priceinfo0_.status
2018-06-03 18:18:38.900 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p -> priceinfo0_.price_id
2018-06-03 18:18:38.900 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : rolloutStatus -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.900 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : p.rolloutStatus -> priceinfo0_.rollout_status
2018-06-03 18:18:38.900 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:18:38.900 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} priceinfo0_.price_id ) ( FromClause{level=1} price_info priceinfo0_ ) ( where ( and ( = ( priceinfo0_.status priceinfo0_.price_id status ) 'ACTIVE' ) ( = ( priceinfo0_.rollout_status priceinfo0_.price_id rolloutStatus ) 'PENDING' ) ) ) )
2018-06-03 18:18:38.915 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [price_info priceinfo0_]
2018-06-03 18:18:38.916 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:18:38.917 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (price_info)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id as price_id1_2_' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
    |  \-[SQL_TOKEN] SqlFragment: 'priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[p], fromElementByTableAlias=[priceinfo0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'price_info priceinfo0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=p,role=null,tableName=price_info,tableAlias=priceinfo0_,origin=null,columns={,className=my.payments.app.dao.PriceInfo}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'priceinfo0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=p.status,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
          |  |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
          |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'priceinfo0_.rollout_status' {propertyName=rolloutStatus,dereferenceType=PRIMITIVE,getPropertyPath=rolloutStatus,path=p.rolloutStatus,tableAlias=priceinfo0_,className=my.payments.app.dao.PriceInfo,classAlias=p}
             |  +-[ALIAS_REF] IdentNode: 'priceinfo0_.price_id' {alias=p, className=my.payments.app.dao.PriceInfo, tableAlias=priceinfo0_}
             |  \-[IDENT] IdentNode: 'rolloutStatus' {originalText=rolloutStatus}
             \-[QUOTED_STRING] LiteralNode: ''PENDING''

2018-06-03 18:18:38.917 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.928 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select p from my.payments.app.dao.PriceInfo p where p.status='ACTIVE' and p.rolloutStatus='PENDING'
2018-06-03 18:18:38.928 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:18:38.928 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.974 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:18:38.975 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.976 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'c'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:18:38.976 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:18:38.977 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:18:38.977 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.977 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.978 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.978 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:18:38.978 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.978 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.978 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:18:38.980 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.981 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.981 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:18:38.981 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:18:38.981 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} customer0_.email ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:18:38.982 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:18:38.982 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:18:38.982 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'customer0_.email as email1_0_' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  \-[SQL_TOKEN] SqlFragment: 'customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@2395b9a4}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@2395b9a4}

2018-06-03 18:18:38.983 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.983 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:18:38.983 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as email1_0_, customer0_.country_code as country_2_0_, customer0_.customer_name as customer3_0_, customer0_.next_billdate as next_bil4_0_, customer0_.onboard_date as onboard_5_0_, customer0_.plan_code as plan_cod6_0_, customer0_.price_id as price_id7_0_, customer0_.status as status8_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:18:38.983 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.990 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : parse() - HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:18:38.991 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.992 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[IDENT] Node: 'my'
    |  |     |  |  |  |  \-[IDENT] Node: 'payments'
    |  |     |  |  |  \-[IDENT] Node: 'app'
    |  |     |  |  \-[IDENT] Node: 'dao'
    |  |     |  \-[IDENT] Node: 'Customer'
    |  |     \-[ALIAS] Node: 'c'
    |  \-[SELECT] Node: 'select'
    |     \-[DOT] Node: '.'
    |        +-[IDENT] Node: 'c'
    |        \-[IDENT] Node: 'email'
    \-[WHERE] Node: 'where'
       \-[AND] Node: 'and'
          +-[AND] Node: 'and'
          |  +-[EQ] Node: '='
          |  |  +-[DOT] Node: '.'
          |  |  |  +-[IDENT] Node: 'c'
          |  |  |  \-[IDENT] Node: 'status'
          |  |  \-[QUOTED_STRING] Node: ''ACTIVE''
          |  \-[EQ] Node: '='
          |     +-[DOT] Node: '.'
          |     |  +-[IDENT] Node: 'c'
          |     |  \-[IDENT] Node: 'planCode'
          |     \-[COLON] Node: ':'
          |        \-[IDENT] Node: 'planCode'
          \-[EQ] Node: '='
             +-[DOT] Node: '.'
             |  +-[IDENT] Node: 'c'
             |  \-[IDENT] Node: 'countryCode'
             \-[COLON] Node: ':'
                \-[IDENT] Node: 'countryCode'

2018-06-03 18:18:38.992 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select << begin [level=1, statement=select]
2018-06-03 18:18:38.993 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.FromElement    : FromClause{level=1} : my.payments.app.dao.Customer (c) -> customer0_
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : email -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.email -> customer0_.email
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : status -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.status -> customer0_.status
2018-06-03 18:18:38.994 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : planCode -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.planCode -> customer0_.plan_code
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c -> customer0_.email
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.tree.DotNode        : getDataType() : countryCode -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.h.i.ast.tree.FromReferenceNode       : Resolved : c.countryCode -> customer0_.country_code
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select : finishing up [level=1, statement=select]
2018-06-03 18:18:38.995 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.HqlSqlWalker        : processQuery() :  ( SELECT ( {select clause} ( customer0_.email customer0_.email email ) ) ( FromClause{level=1} customer customer0_ ) ( where ( and ( and ( = ( customer0_.status customer0_.email status ) 'ACTIVE' ) ( = ( customer0_.plan_code customer0_.email planCode ) ? ) ) ( = ( customer0_.country_code customer0_.email countryCode ) ? ) ) ) )
2018-06-03 18:18:38.996 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.util.JoinProcessor  : Using FROM fragment [customer customer0_]
2018-06-03 18:18:38.996 DEBUG 79940 --- [restartedMain] o.h.hql.internal.antlr.HqlSqlBaseWalker  : select >> end [level=1, statement=select]
2018-06-03 18:18:38.997 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (customer)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[DOT] DotNode: 'customer0_.email' {propertyName=email,dereferenceType=PRIMITIVE,getPropertyPath=email,path=c.email,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
    |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
    |  |  \-[IDENT] IdentNode: 'email' {originalText=email}
    |  \-[SELECT_COLUMNS] SqlNode: ' as col_0_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[c], fromElementByTableAlias=[customer0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'customer customer0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=c,role=null,tableName=customer,tableAlias=customer0_,origin=null,columns={,className=my.payments.app.dao.Customer}}
    \-[WHERE] SqlNode: 'where'
       \-[AND] SqlNode: 'and'
          +-[AND] SqlNode: 'and'
          |  +-[EQ] BinaryLogicOperatorNode: '='
          |  |  +-[DOT] DotNode: 'customer0_.status' {propertyName=status,dereferenceType=PRIMITIVE,getPropertyPath=status,path=c.status,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |  |  |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |  |  |  \-[IDENT] IdentNode: 'status' {originalText=status}
          |  |  \-[QUOTED_STRING] LiteralNode: ''ACTIVE''
          |  \-[EQ] BinaryLogicOperatorNode: '='
          |     +-[DOT] DotNode: 'customer0_.plan_code' {propertyName=planCode,dereferenceType=PRIMITIVE,getPropertyPath=planCode,path=c.planCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
          |     |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
          |     |  \-[IDENT] IdentNode: 'planCode' {originalText=planCode}
          |     \-[NAMED_PARAM] ParameterNode: '?' {name=planCode, expectedType=org.hibernate.type.StringType@2395b9a4}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[DOT] DotNode: 'customer0_.country_code' {propertyName=countryCode,dereferenceType=PRIMITIVE,getPropertyPath=countryCode,path=c.countryCode,tableAlias=customer0_,className=my.payments.app.dao.Customer,classAlias=c}
             |  +-[ALIAS_REF] IdentNode: 'customer0_.email' {alias=c, className=my.payments.app.dao.Customer, tableAlias=customer0_}
             |  \-[IDENT] IdentNode: 'countryCode' {originalText=countryCode}
             \-[NAMED_PARAM] ParameterNode: '?' {name=countryCode, expectedType=org.hibernate.type.StringType@2395b9a4}

2018-06-03 18:18:38.997 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:38.997 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : HQL: select c.email from my.payments.app.dao.Customer c where c.status='ACTIVE' and c.planCode=:planCode and c.countryCode=:countryCode
2018-06-03 18:18:38.997 DEBUG 79940 --- [restartedMain] o.h.h.internal.ast.QueryTranslatorImpl   : SQL: select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:18:38.997 DEBUG 79940 --- [restartedMain] o.h.hql.internal.ast.ErrorCounter        : throwQueryException() : no errors
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processorThreshold
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.availableProcessorCount
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.processingChunkSize
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_NOTIFY_PRICE_UPDATE
2018-06-03 18:18:39.006  WARN 79940 --- [restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: public static java.lang.String my.payments.app.worker.ConfigReader.TOPIC_PRICE_UPDATE_ACK
2018-06-03 18:18:39.148 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:18:39.148 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:18:39.149 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:18:39.149 DEBUG 79940 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:18:39.155 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:18:39.156 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:18:39.156 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:18:39.156 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom MessageInterpolator of type org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator
2018-06-03 18:18:39.157 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ConstraintValidatorFactory of type org.springframework.validation.beanvalidation.SpringConstraintValidatorFactory
2018-06-03 18:18:39.157 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ParameterNameProvider of type org.springframework.validation.beanvalidation.LocalValidatorFactoryBean$1
2018-06-03 18:18:39.158 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:18:39.158 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via user class loader
2018-06-03 18:18:39.158 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:18:39.159 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:18:39.159 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:18:39.162 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:18:39.162 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:18:39.162 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:18:39.162 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:18:39.162 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:18:39.600  WARN 79940 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-03 18:18:39.770  INFO 79940 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2018-06-03 18:18:40.012  WARN 79940 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2018-06-03 18:18:40.058  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-06-03 18:18:40.059  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-06-03 18:18:40.064  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-06-03 18:18:40.070  INFO 79940 --- [restartedMain] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-06-03 18:18:40.293  INFO 79940 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Using Persistence Adapter: MemoryPersistenceAdapter
2018-06-03 18:18:40.332  INFO 79940 --- [JMX connector] o.a.a.broker.jmx.ManagementContext       : JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi
2018-06-03 18:18:40.447  INFO 79940 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55182-1528075120318-0:1) is starting
2018-06-03 18:18:40.454  INFO 79940 --- [restartedMain] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55182-1528075120318-0:1) started
2018-06-03 18:18:40.454  INFO 79940 --- [restartedMain] o.apache.activemq.broker.BrokerService   : For help or more information please see: http://activemq.apache.org
2018-06-03 18:18:40.482  INFO 79940 --- [restartedMain] o.a.activemq.broker.TransportConnector   : Connector vm://localhost started
2018-06-03 18:18:40.576  INFO 79940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-06-03 18:18:40.581  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : Started MainPaymentApp in 6.104 seconds (JVM running for 6.601)
2018-06-03 18:18:53.280  INFO 79940 --- [http-nio-8080-exec-10] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-06-03 18:18:53.378  INFO 79940 --- [http-nio-8080-exec-10] m.p.app.controller.PriceInfoController   : Received price update: Plan Code: 1S
Country Code: 1
Price: 15.0
Status: null
Rollout Status: null
2018-06-03 18:18:53.392 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:53.411 DEBUG 79940 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : call next value for price_info_sequence_id
2018-06-03 18:18:53.426 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.id.enhanced.SequenceStructure        : Sequence value obtained: 5
2018-06-03 18:18:53.426 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:53.428 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.i.AbstractSaveEventListener        : Generated identifier: 5, using strategy: org.hibernate.id.enhanced.SequenceStyleGenerator
2018-06-03 18:18:53.455 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:53.456 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:18:53.457 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:18:53.458 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2018-06-03 18:18:53.458 DEBUG 79940 --- [http-nio-8080-exec-10] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:18:53.460 DEBUG 79940 --- [http-nio-8080-exec-10] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:18:53.461 DEBUG 79940 --- [http-nio-8080-exec-10] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.PriceInfo{rolloutStatus=PENDING, countryCode=1, price=15.0, priceId=5, effectiveDate=null, planCode=1S, status=ACTIVE}
2018-06-03 18:18:53.471 DEBUG 79940 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into price_info (country_code, effective_date, plan_code, price, rollout_status, status, price_id) values (?, ?, ?, ?, ?, ?, ?)
2018-06-03 18:18:53.477  INFO 79940 --- [http-nio-8080-exec-10] m.p.app.controller.PriceInfoController   : Saved price update to DB: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:18:56.149  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Calling price checker ...
2018-06-03 18:18:56.149  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Start... checkForPriceUpdates
2018-06-03 18:18:56.161 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select priceinfo0_.price_id as price_id1_2_, priceinfo0_.country_code as country_2_2_, priceinfo0_.effective_date as effectiv3_2_, priceinfo0_.plan_code as plan_cod4_2_, priceinfo0_.price as price5_2_, priceinfo0_.rollout_status as rollout_6_2_, priceinfo0_.status as status7_2_ from price_info priceinfo0_ where priceinfo0_.status='ACTIVE' and priceinfo0_.rollout_status='PENDING'
2018-06-03 18:18:56.162 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:18:56.164 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.PriceInfo#5]
2018-06-03 18:18:56.168 DEBUG 79940 --- [http-nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:18:56.168 DEBUG 79940 --- [http-nio-8080-exec-2] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.PriceInfo#5]
2018-06-03 18:18:56.170  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of price updates to process = 1
2018-06-03 18:18:56.170  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Processing priceUpdate: Price id: 5
Plan cpde: 1S
Country code: 1
Price: 15.0
2018-06-03 18:18:56.177 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select customer0_.email as col_0_0_ from customer customer0_ where customer0_.status='ACTIVE' and customer0_.plan_code=? and customer0_.country_code=?
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 1
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 2
2018-06-03 18:18:56.178 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 3
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 4
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 5
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 6
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result set row: 7
2018-06-03 18:18:56.179 DEBUG 79940 --- [http-nio-8080-exec-2] org.hibernate.loader.Loader              : Result row: 
2018-06-03 18:18:56.179  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of customers affected = 8
2018-06-03 18:18:56.179  INFO 79940 --- [http-nio-8080-exec-2] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:18:56.179  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Number of processors to start = 1
2018-06-03 18:18:56.179  INFO 79940 --- [http-nio-8080-exec-2] my.payments.app.worker.ConfigReader      : processor threshold = >>null<<
2018-06-03 18:18:56.179  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 0
2018-06-03 18:18:56.195  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=0, end=2
2018-06-03 18:18:56.195  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 2
2018-06-03 18:18:56.202  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=2, end=4
2018-06-03 18:18:56.202  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 4
2018-06-03 18:18:56.207  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=4, end=6
2018-06-03 18:18:56.207  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk startIndex = 6
2018-06-03 18:18:56.214  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : Chunk posted to topic, start=6, end=8
2018-06-03 18:18:56.214  INFO 79940 --- [http-nio-8080-exec-2] m.p.app.controller.PriceInfoController   : checkForPriceUpdates ... done
2018-06-03 18:18:56.224  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [sangeetha@demo.com, kumar@demo.com]
2018-06-03 18:18:56.226 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.231 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.236 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.237 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.238 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:56.238 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:56.239 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.239 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:18:56.239 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.240  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: sangeetha@demo.com
2018-06-03 18:18:56.243  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: sangeetha@demo.com
2018-06-03 18:18:56.243 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.244 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.244 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.244 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.245 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:56.245 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:56.245 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.245 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:18:56.245 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.246  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: kumar@demo.com
2018-06-03 18:18:56.248  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: kumar@demo.com
2018-06-03 18:18:56.253  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [tarun@demo.com, thuy@demo.com]
2018-06-03 18:18:56.254 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.255 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.256 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.256 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.257 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:56.257 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:56.257 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.257 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:18:56.258 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.258  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: sangeetha@demo.com: Hello Sangeetha,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.429
2018-06-03 18:18:56.258  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: tarun@demo.com
2018-06-03 18:18:56.259  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: tarun@demo.com
2018-06-03 18:18:56.260 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.260 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.261 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.261 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.261 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:18:56.261 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:18:56.262 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.262 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#thuy@demo.com
2018-06-03 18:18:56.262 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.262  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: thuy@demo.com
2018-06-03 18:18:56.264  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: thuy@demo.com
2018-06-03 18:18:56.267  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [alex@demo.com, jerry@demo.com]
2018-06-03 18:18:56.267 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.268 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:18:56.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:18:56.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.270 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#alex@demo.com
2018-06-03 18:18:56.270 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.271  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: alex@demo.com
2018-06-03 18:18:56.272  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: alex@demo.com
2018-06-03 18:18:56.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:18:56.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:18:56.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#jerry@demo.com
2018-06-03 18:18:56.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.275  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: jerry@demo.com
2018-06-03 18:18:56.276  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: jerry@demo.com
2018-06-03 18:18:56.278  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Processing Chunk [bala@demo.com, monika@demo.com]
2018-06-03 18:18:56.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:18:56.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:18:56.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#bala@demo.com
2018-06-03 18:18:56.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.280  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: bala@demo.com
2018-06-03 18:18:56.281  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: bala@demo.com
2018-06-03 18:18:56.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:56.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#monika@demo.com
2018-06-03 18:18:56.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:56.284  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Constructing email body for: monika@demo.com
2018-06-03 18:18:56.285  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed email to jms for customer: monika@demo.com
2018-06-03 18:18:57.260  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: sangeetha@demo.com
2018-06-03 18:18:57.263  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: kumar@demo.com: Hello Kumar,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.43
2018-06-03 18:18:57.263  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: sangeetha@demo.com
2018-06-03 18:18:57.263 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:57.263 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:57.264 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#sangeetha@demo.com
2018-06-03 18:18:57.265 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:57.265  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: sangeetha@demo.com, priceId 1
2018-06-03 18:18:57.266 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:57.269 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.DefaultMergeEventListener        : EntityCopyObserver strategy: disallow
2018-06-03 18:18:57.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:57.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:18:57.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#sangeetha@demo.com]
2018-06-03 18:18:57.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:18:57.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:57.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:18:57.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:18:57.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:18:57.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:18:57.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:18:57.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.429, priceId=5, email=sangeetha@demo.com, customerName=Sangeetha, planCode=1S, nextBilldate=2018-06-03 18:18:37.429, status=ACTIVE}
2018-06-03 18:18:57.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:18:57.277  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: sangeetha@demo.com, priceId 5
2018-06-03 18:18:58.266  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: kumar@demo.com
2018-06-03 18:18:58.270  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: tarun@demo.com: Hello Tarun,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.431
2018-06-03 18:18:58.270  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: kumar@demo.com
2018-06-03 18:18:58.270 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:58.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:58.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:58.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:58.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.271 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:58.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#kumar@demo.com
2018-06-03 18:18:58.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:58.272  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: kumar@demo.com, priceId 1
2018-06-03 18:18:58.272 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#kumar@demo.com]
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:18:58.273 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:18:58.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:18:58.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:18:58.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:18:58.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.43, priceId=5, email=kumar@demo.com, customerName=Kumar, planCode=1S, nextBilldate=2018-06-03 18:18:37.43, status=ACTIVE}
2018-06-03 18:18:58.274 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:18:58.275  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: kumar@demo.com, priceId 5
2018-06-03 18:18:59.273  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: tarun@demo.com
2018-06-03 18:18:59.274  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: thuy@demo.com: Hello Thuy,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.431
2018-06-03 18:18:59.275  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: tarun@demo.com
2018-06-03 18:18:59.275 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:59.275 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:59.275 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:18:59.275 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:18:59.276 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.276 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.276 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:18:59.276 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#tarun@demo.com
2018-06-03 18:18:59.276 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:59.276  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: tarun@demo.com, priceId 1
2018-06-03 18:18:59.277 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:18:59.277 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.277 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:18:59.277 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:18:59.277 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#tarun@demo.com]
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:18:59.278 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.431, priceId=5, email=tarun@demo.com, customerName=Tarun, planCode=1S, nextBilldate=2018-06-03 18:18:37.431, status=ACTIVE}
2018-06-03 18:18:59.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:18:59.279  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: tarun@demo.com, priceId 5
2018-06-03 18:19:00.277  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: thuy@demo.com
2018-06-03 18:19:00.278  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: thuy@demo.com
2018-06-03 18:19:00.278  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: alex@demo.com: Hello Alex,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.432
2018-06-03 18:19:00.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:00.279 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#thuy@demo.com
2018-06-03 18:19:00.280 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:00.280  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: thuy@demo.com, priceId 1
2018-06-03 18:19:00.281 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:00.281 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.281 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:00.281 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:19:00.281 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#thuy@demo.com]
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:19:00.282 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.431, priceId=5, email=thuy@demo.com, customerName=Thuy, planCode=1S, nextBilldate=2018-06-03 18:18:37.431, status=ACTIVE}
2018-06-03 18:19:00.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:19:00.283  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: thuy@demo.com, priceId 5
2018-06-03 18:19:01.281  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: alex@demo.com
2018-06-03 18:19:01.283  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: jerry@demo.com: Hello Jerry,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.432
2018-06-03 18:19:01.283  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: alex@demo.com
2018-06-03 18:19:01.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:01.283 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#alex@demo.com
2018-06-03 18:19:01.284 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:01.285  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: alex@demo.com, priceId 1
2018-06-03 18:19:01.285 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#alex@demo.com]
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:19:01.286 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:19:01.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:19:01.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:19:01.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:19:01.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.432, priceId=5, email=alex@demo.com, customerName=Alex, planCode=1S, nextBilldate=2018-06-03 18:18:37.432, status=ACTIVE}
2018-06-03 18:19:01.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:19:01.288  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: alex@demo.com, priceId 5
2018-06-03 18:19:02.285  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: jerry@demo.com
2018-06-03 18:19:02.286  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: bala@demo.com: Hello Bala,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.433
2018-06-03 18:19:02.286  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: jerry@demo.com
2018-06-03 18:19:02.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:02.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:02.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:19:02.287 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#jerry@demo.com
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:02.288  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: jerry@demo.com, priceId 1
2018-06-03 18:19:02.288 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#jerry@demo.com]
2018-06-03 18:19:02.289 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.432, priceId=5, email=jerry@demo.com, customerName=Jerry, planCode=1S, nextBilldate=2018-06-03 18:18:37.432, status=ACTIVE}
2018-06-03 18:19:02.290 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:19:02.291  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: jerry@demo.com, priceId 5
2018-06-03 18:19:03.291  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: bala@demo.com
2018-06-03 18:19:03.293  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: bala@demo.com
2018-06-03 18:19:03.293  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Email sent to: monika@demo.com: Hello Monika,
  Please be awware of new price 15.0 starting next billing cycle starting 2018-06-03 18:18:37.433
2018-06-03 18:19:03.294 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:03.294 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:03.294 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:19:03.294 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#bala@demo.com
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:03.295  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: bala@demo.com, priceId 1
2018-06-03 18:19:03.295 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#bala@demo.com]
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:19:03.296 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.433, priceId=5, email=bala@demo.com, customerName=Bala, planCode=1S, nextBilldate=2018-06-03 18:18:37.433, status=ACTIVE}
2018-06-03 18:19:03.297 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:19:03.298  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: bala@demo.com, priceId 5
2018-06-03 18:19:04.300  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.a.w.PriceUpdateChunkProcessImpl      : Pushed ack message to jms: monika@demo.com
2018-06-03 18:19:04.302  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Received ack for customer: monika@demo.com
2018-06-03 18:19:04.303 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:04.304 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:04.304 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.l.p.e.p.i.ResultSetProcessorImpl     : Starting ResultSet row #0
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] l.p.e.p.i.EntityReferenceInitializerImpl : On call to EntityIdentifierReaderImpl#resolve, EntityKey was already known; should only happen on root returns with an optional identifier specified
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] .l.e.p.AbstractLoadPlanBasedEntityLoader : Done entity load : my.payments.app.dao.Customer#monika@demo.com
2018-06-03 18:19:04.305 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:04.306  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Fetched customer from db with price: monika@demo.com, priceId 1
2018-06-03 18:19:04.306 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : begin
2018-06-03 18:19:04.306 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Loading entity: [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.306 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : select customer0_.email as email1_0_0_, customer0_.country_code as country_2_0_0_, customer0_.customer_name as customer3_0_0_, customer0_.next_billdate as next_bil4_0_0_, customer0_.onboard_date as onboard_5_0_0_, customer0_.plan_code as plan_cod6_0_0_, customer0_.price_id as price_id7_0_0_, customer0_.status as status8_0_0_ from customer customer0_ where customer0_.email=?
2018-06-03 18:19:04.306 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result set row: 0
2018-06-03 18:19:04.306 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Result row: EntityKey[my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Resolving associations for [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.engine.internal.TwoPhaseLoad         : Done materializing entity [my.payments.app.dao.Customer#monika@demo.com]
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.loader.Loader              : Done entity load
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.t.internal.TransactionImpl         : committing
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Processing flush-time cascades
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Dirty checking collections
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
2018-06-03 18:19:04.307 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.h.e.i.AbstractFlushingEventListener    : Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2018-06-03 18:19:04.308 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : Listing entities:
2018-06-03 18:19:04.308 DEBUG 79940 --- [DefaultMessageListenerContainer-1] o.hibernate.internal.util.EntityPrinter  : my.payments.app.dao.Customer{countryCode=1, onboardDate=2018-06-03 18:18:37.433, priceId=5, email=monika@demo.com, customerName=Monika, planCode=1S, nextBilldate=2018-06-03 18:18:37.433, status=ACTIVE}
2018-06-03 18:19:04.308 DEBUG 79940 --- [DefaultMessageListenerContainer-1] org.hibernate.SQL                        : update customer set country_code=?, customer_name=?, next_billdate=?, onboard_date=?, plan_code=?, price_id=?, status=? where email=?
2018-06-03 18:19:04.308  INFO 79940 --- [DefaultMessageListenerContainer-1] m.p.app.worker.PriceChangeAckReceiver    : Price updated for customer: monika@demo.com, priceId 5
2018-06-03 18:39:18.174  INFO 79940 --- [Thread-1] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78cf4119: startup date [Sun Jun 03 18:18:34 PDT 2018]; root of context hierarchy
2018-06-03 18:39:18.177  INFO 79940 --- [Thread-1] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-06-03 18:39:18.383  INFO 79940 --- [Thread-1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-06-03 18:39:18.384  INFO 79940 --- [Thread-1] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-06-03 18:39:18.395  INFO 79940 --- [Thread-1] o.a.activemq.broker.TransportConnector   : Connector vm://localhost stopped
2018-06-03 18:39:18.395  INFO 79940 --- [Thread-1] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55182-1528075120318-0:1) is shutting down
2018-06-03 18:39:18.405  INFO 79940 --- [Thread-1] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55182-1528075120318-0:1) uptime 20 minutes
2018-06-03 18:39:18.405  INFO 79940 --- [Thread-1] o.apache.activemq.broker.BrokerService   : Apache ActiveMQ 5.15.3 (localhost, ID:SANGSWAM-M-14DM-55182-1528075120318-0:1) is shutdown
2018-06-03 18:39:18.406  INFO 79940 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:39:18.406 DEBUG 79940 --- [Thread-1] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing
2018-06-03 18:39:18.406 DEBUG 79940 --- [Thread-1] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST] overrode base registration [STYLE_PERSIST_SKIPLAZY]
2018-06-03 18:39:18.406 DEBUG 79940 --- [Thread-1] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2018-06-03 18:39:18.406 DEBUG 79940 --- [Thread-1] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2018-06-03 18:39:18.409  WARN 79940 --- [Thread-1] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2018-06-03 18:39:18.409  INFO 79940 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-06-03 18:39:18.411  INFO 79940 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-06-03 18:39:18.732  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : Starting MainPaymentApp on SANGSWAM-M-14DM with PID 79940 (/Users/sangswam/Documents/NetflixApp/my-app1/target/classes started by sangswam in /Users/sangswam/Documents/NetflixApp/my-app1)
2018-06-03 18:39:18.732  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : No active profile set, falling back to default profiles: default
2018-06-03 18:39:18.735  INFO 79940 --- [restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@405411e: startup date [Sun Jun 03 18:39:18 PDT 2018]; root of context hierarchy
2018-06-03 18:39:19.070  INFO 79940 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bdb308de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-03 18:39:19.127  INFO 79940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-06-03 18:39:19.129  INFO 79940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-06-03 18:39:19.129  INFO 79940 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-06-03 18:39:19.141  INFO 79940 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet webServlet mapped to [/h2-console/*]
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-06-03 18:39:19.184  INFO 79940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-06-03 18:39:19.209  INFO 79940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2018-06-03 18:39:19.211  INFO 79940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2018-06-03 18:39:19.212  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql]
2018-06-03 18:39:19.217  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/schema.sql] in 5 ms.
2018-06-03 18:39:19.219  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql]
2018-06-03 18:39:19.229  INFO 79940 --- [restartedMain] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from URL [file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/data.sql] in 10 ms.
2018-06-03 18:39:19.257  INFO 79940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-03 18:39:19.257 DEBUG 79940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : PersistenceUnitInfo [
	name: default
	persistence provider classname: null
	classloader: org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4df6155e
	excludeUnlistedClasses: true
	JTA datasource: null
	Non JTA datasource: HikariDataSource (HikariPool-2)
	Transaction type: RESOURCE_LOCAL
	PU root URL: file:/Users/sangswam/Documents/NetflixApp/my-app1/target/classes/
	Shared Cache Mode: UNSPECIFIED
	Validation Mode: AUTO
	Jar files URLs []
	Managed classes names []
	Mapping files names []
	Properties []
2018-06-03 18:39:19.257 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2018-06-03 18:39:19.257 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2018-06-03 18:39:19.257 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2018-06-03 18:39:19.257 DEBUG 79940 --- [restartedMain] o.h.i.internal.IntegratorServiceImpl     : Adding Integrator [org.hibernate.jpa.event.spi.JpaIntegrator].
2018-06-03 18:39:19.259 DEBUG 79940 --- [restartedMain] o.hibernate.service.spi.ServiceBinding   : Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2018-06-03 18:39:19.260 DEBUG 79940 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@23c075ab
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@1467e25a
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration true_false -> org.hibernate.type.TrueFalseType@4ead7653
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration yes_no -> org.hibernate.type.YesNoType@5e1d78
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:39:19.262 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@3d11db3a
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration character -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@1e3b5111
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Short -> org.hibernate.type.ShortType@baf603e
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration integer -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration int -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@2ee8632
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Long -> org.hibernate.type.LongType@60f6fb10
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Float -> org.hibernate.type.FloatType@a0d9db1
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@3b01e9eb
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@fed19bb
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@fed19bb
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration big_integer -> org.hibernate.type.BigIntegerType@790e3637
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@790e3637
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration string -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.String -> org.hibernate.type.StringType@2395b9a4
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nstring -> org.hibernate.type.StringNVarcharType@3e70fdd5
2018-06-03 18:39:19.263 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@69763380
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration url -> org.hibernate.type.UrlType@53d1028b
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.net.URL -> org.hibernate.type.UrlType@53d1028b
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Duration -> org.hibernate.type.DurationType@25dd875b
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Duration -> org.hibernate.type.DurationType@25dd875b
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Instant -> org.hibernate.type.InstantType@370c6d68
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.Instant -> org.hibernate.type.InstantType@370c6d68
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDateTime -> org.hibernate.type.LocalDateTimeType@33cbd198
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDateTime -> org.hibernate.type.LocalDateTimeType@33cbd198
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalDate -> org.hibernate.type.LocalDateType@16d939af
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalDate -> org.hibernate.type.LocalDateType@16d939af
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration LocalTime -> org.hibernate.type.LocalTimeType@116d6c47
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.LocalTime -> org.hibernate.type.LocalTimeType@116d6c47
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4e54e8d
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetDateTime -> org.hibernate.type.OffsetDateTimeType@4e54e8d
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration OffsetTime -> org.hibernate.type.OffsetTimeType@3b9d98b3
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.OffsetTime -> org.hibernate.type.OffsetTimeType@3b9d98b3
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@126921e0
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.time.ZonedDateTime -> org.hibernate.type.ZonedDateTimeType@126921e0
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration date -> org.hibernate.type.DateType@40c3aafe
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Date -> org.hibernate.type.DateType@40c3aafe
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration time -> org.hibernate.type.TimeType@5c42ab45
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Time -> org.hibernate.type.TimeType@5c42ab45
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timestamp -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:39:19.264 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Date -> org.hibernate.type.TimestampType@63a910e7
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@4a1d7b72
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@4fb8151d
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@7c2fb541
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration locale -> org.hibernate.type.LocaleType@78293c88
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@78293c88
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration currency -> org.hibernate.type.CurrencyType@36f32f40
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@36f32f40
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration timezone -> org.hibernate.type.TimeZoneType@714edf6
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@714edf6
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration class -> org.hibernate.type.ClassType@2bc0f6d6
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Class -> org.hibernate.type.ClassType@2bc0f6d6
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@5ffcb9ad
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@5ffcb9ad
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@b40d17e
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration binary -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration byte[] -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [B -> org.hibernate.type.BinaryType@505683aa
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@67d9b26c
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration row_version -> org.hibernate.type.RowVersionType@37015488
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration image -> org.hibernate.type.ImageType@77fad396
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration characters -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration char[] -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [C -> org.hibernate.type.CharArrayType@2fd9f689
2018-06-03 18:39:19.265 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@500908df
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration text -> org.hibernate.type.TextType@2fef5e03
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration ntext -> org.hibernate.type.NTextType@9a60d4f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration blob -> org.hibernate.type.BlobType@6bc8ed73
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@6bc8ed73
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@4a2e001
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration clob -> org.hibernate.type.ClobType@3632423f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@3632423f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration nclob -> org.hibernate.type.NClobType@574f359f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@574f359f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@439b58a
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@13b9d9ab
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration serializable -> org.hibernate.type.SerializableType@5bbf354b
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration object -> org.hibernate.type.ObjectType@5f204bc0
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@5f204bc0
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@504fdabf
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@2a79a9b7
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@6b9b8582
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@339ef0c1
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@1daa5e2f
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@7a79783c
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@4d794564
2018-06-03 18:39:19.266 DEBUG 79940 --- [restartedMain] org.hibernate.type.BasicTypeRegistry     : Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@925acf2
2018-06-03 18:39:19.267 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Database ->
       name : H2
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:39:19.267 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : Driver ->
       name : H2 JDBC Driver
    version : 1.4.197 (2018-03-18)
      major : 1
      minor : 4
2018-06-03 18:39:19.267 DEBUG 79940 --- [restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : JDBC version : 4.0
2018-06-03 18:39:19.268  INFO 79940 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2018-06-03 18:39:19.273 DEBUG 79940 --- [restartedMain] .i.f.i.DefaultIdentifierGeneratorFactory : Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2018-06-03 18:39:19.274 DEBUG 79940 --- [restartedMain] o.h.boot.model.relational.Namespace      : Created database namespace [logicalName=Name{catalog=null, schema=null}, physicalName=Name{catalog=null, schema=null}]
2018-06-03 18:39:19.276 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Building session factory
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : SessionFactory name : null
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic flush during beforeCompletion(): enabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic session close at end of transaction: disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Statistics: disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Deleted entity synthetic identifier rollback: disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default entity-mode: pojo
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Allow initialization of lazy state outside session : disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Using BatchFetchStyle : LEGACY
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default batch fetch size: -1
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Maximum outer join fetch depth: null
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Default null ordering: NONE
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL updates by primary key: disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Order SQL inserts for batching: disabled
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : multi-tenancy strategy : NONE
2018-06-03 18:39:19.277 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JTA Track by Thread: enabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Query language substitutions: {}
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JPA query language strict compliance: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Named query checking : enabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level query cache factory: null
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache region prefix: null
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Optimize second-level cache for minimal puts: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Structured second-level cache entries: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Second-level cache direct-reference entries: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Automatic eviction of collection cache: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch size: 15
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC batch updates for versioned data: enabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Scrollable result sets: enabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Wrap result sets: disabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC3 getGeneratedKeys(): enabled
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : JDBC result set fetch size: null
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Connection release mode: ON_CLOSE
2018-06-03 18:39:19.278 DEBUG 79940 --- [restartedMain] org.hibernate.cfg.Settings               : Generate SQL with comments: disabled
2018-06-03 18:39:19.280 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Session factory constructed with filter configurations : {}
2018-06-03 18:39:19.280 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiating session factory with properties: {gopherProxySet=false, awt.toolkit=sun.lwawt.macosx.LWCToolkit, hibernate.id.new_generator_mappings=true, file.encoding.pkg=sun.io, java.specification.version=1.8, sun.cpu.isalist=, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, sun.jnu.encoding=UTF-8, hibernate.dialect=org.hibernate.dialect.H2Dialect, hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy, java.class.path=/Users/sangswam/Documents/NetflixApp/my-app1/target/classes:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-thymeleaf/2.0.2.RELEASE/spring-boot-starter-thymeleaf-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf-spring5/3.0.9.RELEASE/thymeleaf-spring5-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/thymeleaf/3.0.9.RELEASE/thymeleaf-3.0.9.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/attoparser/attoparser/2.0.4.RELEASE/attoparser-2.0.4.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/unbescape/unbescape/1.1.5.RELEASE/unbescape-1.1.5.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/thymeleaf/extras/thymeleaf-extras-java8time/3.0.1.RELEASE/thymeleaf-extras-java8time-3.0.1.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-devtools/2.0.2.RELEASE/spring-boot-devtools-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/h2database/h2/1.4.197/h2-1.4.197.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/boot/spring-boot-starter-activemq/2.0.2.RELEASE/spring-boot-starter-activemq-2.0.2.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-jms/5.0.6.RELEASE/spring-jms-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/springframework/spring-messaging/5.0.6.RELEASE/spring-messaging-5.0.6.RELEASE.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/javax/jms/javax.jms-api/2.0.1/javax.jms-api-2.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-broker/5.15.3/activemq-broker-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-client/5.15.3/activemq-client-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-jms_1.1_spec/1.1.1/geronimo-jms_1.1_spec-1.1.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/fusesource/hawtbuf/hawtbuf/1.11/hawtbuf-1.11.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/geronimo/specs/geronimo-j2ee-management_1.1_spec/1.0.1/geronimo-j2ee-management_1.1_spec-1.0.1.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/org/apache/activemq/activemq-openwire-legacy/5.15.3/activemq-openwire-legacy-5.15.3.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/google/guava/guava/18.0/guava-18.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/sangswam/Documents/NetflixApp/mavenconf/repository/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar, java.vm.vendor=Oracle Corporation, sun.arch.data.model=64, catalina.useNaming=false, java.vendor.url=http://java.oracle.com/, user.timezone=America/Los_Angeles, os.name=Mac OS X, java.vm.specification.version=1.8, javax.persistence.validation.mode=AUTO, sun.java.launcher=SUN_STANDARD, user.country=US, sun.boot.library.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib, sun.java.command=my.payments.app.MainPaymentApp, hibernate.transaction.jta.platform=org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform@4fca93b6, http.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, javax.persistence.sharedCache.mode=UNSPECIFIED, sun.cpu.endian=little, user.home=/Users/sangswam, user.language=en, java.specification.vendor=Oracle Corporation, java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre, file.separator=/, line.separator=
, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, java.awt.graphicsenv=sun.awt.CGraphicsEnvironment, java.awt.headless=true, sun.boot.class.path=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/sunrsasign.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/classes, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, ftp.nonProxyHosts=local|*.local|169.254/16|*.169.254/16, java.runtime.version=1.8.0_144-b01, user.name=sangswam, path.separator=:, os.version=10.12.6, java.endorsed.dirs=/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, file.encoding=UTF-8, spring.beaninfo.ignore=true, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, LOG_FILE=logs/mylogfile.log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, java.io.tmpdir=/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/, com.zaxxer.hikari.pool_number=1, catalina.home=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.1490718247920634783.8080, java.version=1.8.0_144, hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy, user.dir=/Users/sangswam/Documents/NetflixApp/my-app1, os.arch=x86_64, PID=79940, java.vm.specification.name=Java Virtual Machine Specification, java.awt.printerjob=sun.lwawt.macosx.CPrinterJob, sun.os.patch.level=unknown, catalina.base=/private/var/folders/j1/ljz69g7n5993rskcb6zbf_x80000gn/T/tomcat.1490718247920634783.8080, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@3be69ddf, java.library.path=/Users/sangswam/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:., java.vendor=Oracle Corporation, java.vm.info=mixed mode, java.vm.version=25.144-b01, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariPool-2), sun.io.unicode.encoding=UnicodeBig, java.ext.dirs=/Users/sangswam/Library/Java/Extensions:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java, java.class.version=52.0, socksNonProxyHosts=local|*.local|169.254/16|*.169.254/16}
2018-06-03 18:39:19.281 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:39:19.281 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:39:19.282 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:39:19.282 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:39:19.282 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:39:19.282 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:39:19.283 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] org.hibernate.secure.spi.JaccIntegrator  : Skipping JACC integration as it was not enabled
2018-06-03 18:39:19.290 DEBUG 79940 --- [restartedMain] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST_SKIPLAZY] overrode base registration [STYLE_PERSIST]
2018-06-03 18:39:19.291 DEBUG 79940 --- [restartedMain] o.hibernate.internal.SessionFactoryImpl  : Instantiated session factory
2018-06-03 18:39:19.292 DEBUG 79940 --- [restartedMain] .h.t.s.s.SchemaManagementToolCoordinator : No actions specified; doing nothing
2018-06-03 18:39:19.292 DEBUG 79940 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named HQL queries
2018-06-03 18:39:19.292 DEBUG 79940 --- [restartedMain] o.h.query.spi.NamedQueryRepository       : Checking 0 named SQL queries
2018-06-03 18:39:19.292 DEBUG 79940 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Registering SessionFactory: 37d66042-f869-4833-b1f3-ec2e73a41117 (<unnamed>)
2018-06-03 18:39:19.292 DEBUG 79940 --- [restartedMain] o.h.internal.SessionFactoryRegistry      : Not binding SessionFactory to JNDI, no JNDI name configured
2018-06-03 18:39:19.292  INFO 79940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:39:19.337 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:39:19.337 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:39:19.337 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:39:19.337 DEBUG 79940 --- [restartedMain] .h.v.m.ResourceBundleMessageInterpolator : Loaded expression factory via original TCCL
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Found javax.persistence.Persistence on classpath containing 'getPersistenceUtil'. Assuming JPA 2 environment. Trying to instantiate JPA aware TraversableResolver
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Instantiated JPA aware TraversableResolver of type org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.i.e.resolver.TraversableResolvers  : Unable to load or instantiate JPA aware resolver org.hibernate.validator.internal.engine.resolver.JPATraversableResolver. All properties will per default be traversable.
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom MessageInterpolator of type org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ConstraintValidatorFactory of type org.springframework.validation.beanvalidation.SpringConstraintValidatorFactory
2018-06-03 18:39:19.338 DEBUG 79940 --- [restartedMain] o.h.v.internal.engine.ConfigurationImpl  : Setting custom ParameterNameProvider of type org.springframework.validation.beanvalidation.LocalValidatorFactoryBean$1
2018-06-03 18:39:19.339 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : Trying to load META-INF/validation.xml for XML based Validator configuration.
2018-06-03 18:39:19.339 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via user class loader
2018-06-03 18:39:19.339 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via TCCL
2018-06-03 18:39:19.339 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ResourceLoaderHelper  : Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2018-06-03 18:39:19.340 DEBUG 79940 --- [restartedMain] o.h.v.internal.xml.ValidationXmlParser   : No META-INF/validation.xml found. Using annotation based configuration only.
2018-06-03 18:39:19.344 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator as ValidatorFactory-scoped message interpolator.
2018-06-03 18:39:19.345 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2018-06-03 18:39:19.345 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2018-06-03 18:39:19.345 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2018-06-03 18:39:19.345 DEBUG 79940 --- [restartedMain] o.h.v.i.engine.ValidatorFactoryImpl      : HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2018-06-03 18:39:19.461  WARN 79940 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-03 18:39:19.514  INFO 79940 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2018-06-03 18:39:19.585  WARN 79940 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2018-06-03 18:39:19.605  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-06-03 18:39:19.606  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-06-03 18:39:19.610  INFO 79940 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-06-03 18:39:19.611  INFO 79940 --- [restartedMain] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-06-03 18:39:19.619  INFO 79940 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-06-03 18:39:19.621  INFO 79940 --- [restartedMain] my.payments.app.MainPaymentApp           : Started MainPaymentApp in 0.96 seconds (JVM running for 1245.645)
2018-06-03 18:39:19.625  INFO 79940 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2018-06-03 18:39:26.689  INFO 79940 --- [Thread-18] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@405411e: startup date [Sun Jun 03 18:39:18 PDT 2018]; root of context hierarchy
2018-06-03 18:39:26.691  INFO 79940 --- [Thread-18] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2018-06-03 18:39:26.692  INFO 79940 --- [Thread-18] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
2018-06-03 18:39:26.692  INFO 79940 --- [Thread-18] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans
2018-06-03 18:39:26.693  INFO 79940 --- [Thread-18] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-03 18:39:26.693 DEBUG 79940 --- [Thread-18] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing
2018-06-03 18:39:26.693 DEBUG 79940 --- [Thread-18] org.hibernate.engine.spi.CascadeStyles   : External cascade style registration [persist : STYLE_PERSIST] overrode base registration [STYLE_PERSIST_SKIPLAZY]
2018-06-03 18:39:26.693 DEBUG 79940 --- [Thread-18] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2018-06-03 18:39:26.693 DEBUG 79940 --- [Thread-18] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2018-06-03 18:39:26.696  WARN 79940 --- [Thread-18] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-197]
2018-06-03 18:39:26.696  INFO 79940 --- [Thread-18] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2018-06-03 18:39:26.699  INFO 79940 --- [Thread-18] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
